<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 10 Princípios de visualização de dados | Introdução à Ciência de Dados</title>
  <meta name="description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 10 Princípios de visualização de dados | Introdução à Ciência de Dados" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 10 Princípios de visualização de dados | Introdução à Ciência de Dados" />
  
  <meta name="twitter:description" content="Este livro apresenta conceitos e habilidades que ajudarão você a enfrentar os desafios da vida real em análise de dados. Ele abrange conceitos de probabilidade, inferência estatística, regressão linear e aprendizado de máquina. Além disso, permitirá que você desenvolva habilidades como programação em R, manipulação de dados com dplyr, visualização de dados com ggplot2, organização de arquivos no ambiente UNIX/Linux, controle de versão com GitHub e elaboração de documentos reprodutíveis com Rmarkdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-06-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="gapminder.html"/>
<link rel="next" href="robust-summaries.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdução à Ciência de Dados</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a></li>
<li class="chapter" data-level="" data-path="agradecimentos.html"><a href="agradecimentos.html"><i class="fa fa-check"></i>Agradecimentos</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html"><i class="fa fa-check"></i>Introdução</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#estudos-de-caso"><i class="fa fa-check"></i>Estudos de Caso</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#quem-achará-este-livro-útil"><i class="fa fa-check"></i>Quem achará este livro útil?</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-este-livro-cobre"><i class="fa fa-check"></i>O que este livro cobre?</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-este-livro-não-cobre"><i class="fa fa-check"></i>O que este livro não cobre?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Começando com R e RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#o-console-do-r"><i class="fa fa-check"></i><b>1.1</b> O console do R</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.2</b> <em>scripts</em></a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.3</b> RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="getting-started.html"><a href="getting-started.html#painéis"><i class="fa fa-check"></i><b>1.3.1</b> Painéis</a></li>
<li class="chapter" data-level="1.3.2" data-path="getting-started.html"><a href="getting-started.html#combinações-de-teclas"><i class="fa fa-check"></i><b>1.3.2</b> <em>Combinações de teclas</em></a></li>
<li class="chapter" data-level="1.3.3" data-path="getting-started.html"><a href="getting-started.html#como-executar-comandos-enquanto-edita-scripts"><i class="fa fa-check"></i><b>1.3.3</b> Como executar comandos enquanto edita <em>scripts</em></a></li>
<li class="chapter" data-level="1.3.4" data-path="getting-started.html"><a href="getting-started.html#como-alterar-opções-globais"><i class="fa fa-check"></i><b>1.3.4</b> Como alterar opções globais</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#instalando-pacotes-r"><i class="fa fa-check"></i><b>1.4</b> Instalando pacotes R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R básico</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#o-básico"><i class="fa fa-check"></i><b>2.1</b> O básico</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="r-basics.html"><a href="r-basics.html#o-espaço-de-trabalho"><i class="fa fa-check"></i><b>2.1.1</b> O espaço de trabalho</a></li>
<li class="chapter" data-level="2.1.2" data-path="r-basics.html"><a href="r-basics.html#funções"><i class="fa fa-check"></i><b>2.1.2</b> Funções</a></li>
<li class="chapter" data-level="2.1.3" data-path="r-basics.html"><a href="r-basics.html#outros-objetos-predefinidos"><i class="fa fa-check"></i><b>2.1.3</b> Outros objetos predefinidos</a></li>
<li class="chapter" data-level="2.1.4" data-path="r-basics.html"><a href="r-basics.html#nomes-de-variáveis"><i class="fa fa-check"></i><b>2.1.4</b> Nomes de variáveis</a></li>
<li class="chapter" data-level="2.1.5" data-path="r-basics.html"><a href="r-basics.html#como-salvar-seu-espaço-de-trabalho"><i class="fa fa-check"></i><b>2.1.5</b> Como salvar seu espaço de trabalho</a></li>
<li class="chapter" data-level="2.1.6" data-path="r-basics.html"><a href="r-basics.html#motivando-scripts"><i class="fa fa-check"></i><b>2.1.6</b> <em>Motivando scripts</em></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#exercícios"><i class="fa fa-check"></i><b>2.2</b> Exercícios</a></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#tipo-de-dados"><i class="fa fa-check"></i><b>2.3</b> Tipo de dados</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.3.1</b> <em>data frames</em></a></li>
<li class="chapter" data-level="2.3.2" data-path="r-basics.html"><a href="r-basics.html#como-examinar-um-objeto"><i class="fa fa-check"></i><b>2.3.2</b> Como examinar um objeto</a></li>
<li class="chapter" data-level="2.3.3" data-path="r-basics.html"><a href="r-basics.html#o-operador-de-acesso"><i class="fa fa-check"></i><b>2.3.3</b> O operador de acesso: <code>$</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.3.4</b> Listas</a></li>
<li class="chapter" data-level="2.3.5" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.3.5</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#exercícios-1"><i class="fa fa-check"></i><b>2.4</b> Exercícios</a></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#vetores"><i class="fa fa-check"></i><b>2.5</b> Vetores</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="r-basics.html"><a href="r-basics.html#como-criar-vetores"><i class="fa fa-check"></i><b>2.5.1</b> Como criar vetores</a></li>
<li class="chapter" data-level="2.5.2" data-path="r-basics.html"><a href="r-basics.html#nomes"><i class="fa fa-check"></i><b>2.5.2</b> Nomes</a></li>
<li class="chapter" data-level="2.5.3" data-path="r-basics.html"><a href="r-basics.html#sequências"><i class="fa fa-check"></i><b>2.5.3</b> Sequências</a></li>
<li class="chapter" data-level="2.5.4" data-path="r-basics.html"><a href="r-basics.html#como-criar-um-subconjunto"><i class="fa fa-check"></i><b>2.5.4</b> Como criar um subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#conversão-forçada"><i class="fa fa-check"></i><b>2.6</b> Conversão forçada</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#não-disponível-na"><i class="fa fa-check"></i><b>2.6.1</b> <em>Não disponível</em> (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#exercícios-2"><i class="fa fa-check"></i><b>2.7</b> Exercícios</a></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ordenação"><i class="fa fa-check"></i><b>2.8</b> <em>Ordenação</em></a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.8.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.8.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.8.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.8.3" data-path="r-basics.html"><a href="r-basics.html#max-e-which.max"><i class="fa fa-check"></i><b>2.8.3</b> <code>max</code> e <code>which.max</code></a></li>
<li class="chapter" data-level="2.8.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.8.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.8.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-com-a-reciclagem"><i class="fa fa-check"></i><b>2.8.5</b> Cuidado com a reciclagem</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#exercícios-3"><i class="fa fa-check"></i><b>2.9</b> Exercícios</a></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#aritmética-vetorial"><i class="fa fa-check"></i><b>2.10</b> Aritmética vetorial</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="r-basics.html"><a href="r-basics.html#rescalar-um-vetor"><i class="fa fa-check"></i><b>2.10.1</b> <em>Rescalar</em> um vetor</a></li>
<li class="chapter" data-level="2.10.2" data-path="r-basics.html"><a href="r-basics.html#dois-vetores"><i class="fa fa-check"></i><b>2.10.2</b> Dois vetores</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#exercícios-4"><i class="fa fa-check"></i><b>2.11</b> Exercícios</a></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#indexação"><i class="fa fa-check"></i><b>2.12</b> Indexação</a>
<ul>
<li class="chapter" data-level="2.12.1" data-path="r-basics.html"><a href="r-basics.html#criar-subconjuntos-com-lógicas"><i class="fa fa-check"></i><b>2.12.1</b> Criar subconjuntos com lógicas</a></li>
<li class="chapter" data-level="2.12.2" data-path="r-basics.html"><a href="r-basics.html#operadores-lógicos"><i class="fa fa-check"></i><b>2.12.2</b> Operadores lógicos</a></li>
<li class="chapter" data-level="2.12.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.12.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.12.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.12.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.12.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.12.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#exercícios-5"><i class="fa fa-check"></i><b>2.13</b> Exercícios</a></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#gráficos-básicos"><i class="fa fa-check"></i><b>2.14</b> Gráficos básicos</a>
<ul>
<li class="chapter" data-level="2.14.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.14.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.14.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.14.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.14.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.14.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.14.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.14.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#exercícios-6"><i class="fa fa-check"></i><b>2.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html"><i class="fa fa-check"></i><b>3</b> Conceitos básicos de programação</a>
<ul>
<li class="chapter" data-level="3.1" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expressões condicionais</a></li>
<li class="chapter" data-level="3.2" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#como-definir-funções"><i class="fa fa-check"></i><b>3.2</b> Como definir funções</a></li>
<li class="chapter" data-level="3.3" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#namespaces"><i class="fa fa-check"></i><b>3.3</b> <em>Namespaces</em></a></li>
<li class="chapter" data-level="3.4" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#loops-para"><i class="fa fa-check"></i><b>3.4</b> Loops para</a></li>
<li class="chapter" data-level="3.5" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorização e funcional</a></li>
<li class="chapter" data-level="3.6" data-path="conceitos-básicos-de-programação.html"><a href="conceitos-básicos-de-programação.html#exercícios-7"><i class="fa fa-check"></i><b>3.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Data <em>tidy</em></a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-8"><i class="fa fa-check"></i><b>4.2</b> Exercícios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#como-manipular-data-frames"><i class="fa fa-check"></i><b>4.3</b> Como manipular <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#como-adicionar-uma-coluna-com-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Como adicionar uma coluna com <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#como-criar-subconjuntos-com-filter"><i class="fa fa-check"></i><b>4.3.2</b> Como criar subconjuntos com <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#como-selecionar-colunas-com-select"><i class="fa fa-check"></i><b>4.3.3</b> Como selecionar colunas com <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-9"><i class="fa fa-check"></i><b>4.4</b> Exercícios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#o-cano_"><i class="fa fa-check"></i><b>4.5</b> O cano_: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-10"><i class="fa fa-check"></i><b>4.6</b> Exercícios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#como-resumir-dados"><i class="fa fa-check"></i><b>4.7</b> Como resumir dados</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Como agrupar e resumir com <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#como-encomendar-os-data-frames"><i class="fa fa-check"></i><b>4.8</b> Como encomendar os <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#como-encomendar-aninhado"><i class="fa fa-check"></i><b>4.8.1</b> Como encomendar aninhado</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#os-primeiros-n"><i class="fa fa-check"></i><b>4.8.2</b> Os primeiros <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-11"><i class="fa fa-check"></i><b>4.9</b> Exercícios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> <em>Tibbles</em></a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-parece-melhor"><i class="fa fa-check"></i><b>4.10.1</b> <em>Tibbles</em> parece melhor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#tibbles_subconjuntos-são_tibbles"><i class="fa fa-check"></i><b>4.10.2</b> <em>Tibbles_subconjuntos são_tibbles</em></a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-pode-ter-entradas-complexas"><i class="fa fa-check"></i><b>4.10.3</b> <em>Tibbles</em> pode ter entradas complexas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-podem-ser-agrupados"><i class="fa fa-check"></i><b>4.10.4</b> <em>Tibbles</em> podem ser agrupados</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#como-criar-um-tibble-usando-tibble-ao-invés-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Como criar um <em>tibble</em> usando <code>tibble</code> ao invés de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#o-operador-de-ponto"><i class="fa fa-check"></i><b>4.11</b> O operador de ponto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#o-pacote-purrr"><i class="fa fa-check"></i><b>4.13</b> O pacote <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#os-condicionais-tidyverse"><i class="fa fa-check"></i><b>4.14</b> Os condicionais <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#exercícios-12"><i class="fa fa-check"></i><b>4.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando dados</a>
<ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#caminhos-e-diretório-de-trabalho"><i class="fa fa-check"></i><b>5.1</b> Caminhos e diretório de trabalho</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#o-sistema-de-arquivos"><i class="fa fa-check"></i><b>5.1.1</b> O sistema de arquivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#caminhos-relativos-e-completos"><i class="fa fa-check"></i><b>5.1.2</b> Caminhos relativos e completos</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#o-diretório-de-trabalho"><i class="fa fa-check"></i><b>5.1.3</b> O diretório de trabalho</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#como-gerar-nomes-de-caminhos"><i class="fa fa-check"></i><b>5.1.4</b> Como gerar nomes de caminhos</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#como-copiar-arquivos-usando-caminhos"><i class="fa fa-check"></i><b>5.1.5</b> Como copiar arquivos usando caminhos</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#os-pacotes-readr-e-readxl"><i class="fa fa-check"></i><b>5.2</b> Os pacotes readr e readxl</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>5.2.1</b> readr</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#exercícios-13"><i class="fa fa-check"></i><b>5.3</b> Exercícios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#como-baixar-arquivos"><i class="fa fa-check"></i><b>5.4</b> Como baixar arquivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#funções-básicas-de-importação-r"><i class="fa fa-check"></i><b>5.5</b> Funções básicas de importação R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#arquivos-de-texto-versus-arquivos-binários"><i class="fa fa-check"></i><b>5.6</b> Arquivos de texto versus arquivos binários</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#como-organizar-dados-com-planilhas"><i class="fa fa-check"></i><b>5.8</b> Como organizar dados com planilhas</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#exercícios-14"><i class="fa fa-check"></i><b>5.9</b> Exercícios</a></li>
</ul></li>
<li class="part"><span><b>II Exibição de dados</b></span></li>
<li class="chapter" data-level="6" data-path="introdução-à-visualização-de-dados.html"><a href="introdução-à-visualização-de-dados.html"><i class="fa fa-check"></i><b>6</b> Introdução à visualização de dados</a></li>
<li class="chapter" data-level="7" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>7</b> ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ggplot2.html"><a href="ggplot2.html#os-componentes-de-um-gráfico"><i class="fa fa-check"></i><b>7.1</b> Os componentes de um gráfico</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot2.html"><a href="ggplot2.html#objetos-ggplot"><i class="fa fa-check"></i><b>7.2</b> objetos <code>ggplot</code></a></li>
<li class="chapter" data-level="7.3" data-path="ggplot2.html"><a href="ggplot2.html#geometrias"><i class="fa fa-check"></i><b>7.3</b> Geometrias</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot2.html"><a href="ggplot2.html#mapeamentos-estéticos"><i class="fa fa-check"></i><b>7.4</b> Mapeamentos estéticos</a></li>
<li class="chapter" data-level="7.5" data-path="ggplot2.html"><a href="ggplot2.html#camadas"><i class="fa fa-check"></i><b>7.5</b> Camadas</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot2.html"><a href="ggplot2.html#como-testar-vários-argumentos"><i class="fa fa-check"></i><b>7.5.1</b> Como testar vários argumentos</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot2.html"><a href="ggplot2.html#mapeamento-estético-global-versus-local"><i class="fa fa-check"></i><b>7.6</b> Mapeamento estético global versus local</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot2.html"><a href="ggplot2.html#escalas"><i class="fa fa-check"></i><b>7.7</b> Escalas</a></li>
<li class="chapter" data-level="7.8" data-path="ggplot2.html"><a href="ggplot2.html#tags-e-títulos"><i class="fa fa-check"></i><b>7.8</b> Tags e títulos</a></li>
<li class="chapter" data-level="7.9" data-path="ggplot2.html"><a href="ggplot2.html#categorias-como-cores"><i class="fa fa-check"></i><b>7.9</b> Categorias como cores</a></li>
<li class="chapter" data-level="7.10" data-path="ggplot2.html"><a href="ggplot2.html#anotação-formas-e-ajustes"><i class="fa fa-check"></i><b>7.10</b> Anotação, formas e ajustes</a></li>
<li class="chapter" data-level="7.11" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>7.11</b> Pacotes complementares</a></li>
<li class="chapter" data-level="7.12" data-path="ggplot2.html"><a href="ggplot2.html#como-combinar-tudo"><i class="fa fa-check"></i><b>7.12</b> Como combinar tudo</a></li>
<li class="chapter" data-level="7.13" data-path="ggplot2.html"><a href="ggplot2.html#qplot"><i class="fa fa-check"></i><b>7.13</b> Gráficos rápidos com <code>qplot</code></a></li>
<li class="chapter" data-level="7.14" data-path="ggplot2.html"><a href="ggplot2.html#grades-de-gráfico"><i class="fa fa-check"></i><b>7.14</b> Grades de gráfico</a></li>
<li class="chapter" data-level="7.15" data-path="ggplot2.html"><a href="ggplot2.html#exercícios-15"><i class="fa fa-check"></i><b>7.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>8</b> Como visualizar distribuições de dados</a>
<ul>
<li class="chapter" data-level="8.1" data-path="distributions.html"><a href="distributions.html#tipos-de-variáveis"><i class="fa fa-check"></i><b>8.1</b> Tipos de variáveis</a></li>
<li class="chapter" data-level="8.2" data-path="distributions.html"><a href="distributions.html#estudo-de-caso-descrevendo-a-altura-dos-alunos"><i class="fa fa-check"></i><b>8.2</b> Estudo de caso: descrevendo a altura dos alunos</a></li>
<li class="chapter" data-level="8.3" data-path="distributions.html"><a href="distributions.html#a-função-de-distribuição"><i class="fa fa-check"></i><b>8.3</b> A função de distribuição</a></li>
<li class="chapter" data-level="8.4" data-path="distributions.html"><a href="distributions.html#cdf-intro"><i class="fa fa-check"></i><b>8.4</b> Funções de distribuição cumulativa</a></li>
<li class="chapter" data-level="8.5" data-path="distributions.html"><a href="distributions.html#histogramas"><i class="fa fa-check"></i><b>8.5</b> Histogramas</a></li>
<li class="chapter" data-level="8.6" data-path="distributions.html"><a href="distributions.html#densidade-suave"><i class="fa fa-check"></i><b>8.6</b> Densidade suave</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="distributions.html"><a href="distributions.html#como-interpretar-o-eixo-y"><i class="fa fa-check"></i><b>8.6.1</b> Como interpretar o eixo y</a></li>
<li class="chapter" data-level="8.6.2" data-path="distributions.html"><a href="distributions.html#densidades-permitem-camadas"><i class="fa fa-check"></i><b>8.6.2</b> Densidades permitem camadas</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="distributions.html"><a href="distributions.html#exercícios-16"><i class="fa fa-check"></i><b>8.7</b> Exercícios</a></li>
<li class="chapter" data-level="8.8" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>8.8</b> A distribuição normal</a></li>
<li class="chapter" data-level="8.9" data-path="distributions.html"><a href="distributions.html#unidades-padrão"><i class="fa fa-check"></i><b>8.9</b> Unidades padrão</a></li>
<li class="chapter" data-level="8.10" data-path="distributions.html"><a href="distributions.html#gráficos-qq"><i class="fa fa-check"></i><b>8.10</b> Gráficos QQ</a></li>
<li class="chapter" data-level="8.11" data-path="distributions.html"><a href="distributions.html#percentis"><i class="fa fa-check"></i><b>8.11</b> Percentis</a></li>
<li class="chapter" data-level="8.12" data-path="distributions.html"><a href="distributions.html#diagramas-de-caixas"><i class="fa fa-check"></i><b>8.12</b> Diagramas de caixas</a></li>
<li class="chapter" data-level="8.13" data-path="distributions.html"><a href="distributions.html#stratification"><i class="fa fa-check"></i><b>8.13</b> Estratificação</a></li>
<li class="chapter" data-level="8.14" data-path="distributions.html"><a href="distributions.html#student-height-cont"><i class="fa fa-check"></i><b>8.14</b> Estudo de caso: descrição das alturas dos alunos (continuação)</a></li>
<li class="chapter" data-level="8.15" data-path="distributions.html"><a href="distributions.html#exercícios-17"><i class="fa fa-check"></i><b>8.15</b> Exercícios</a></li>
<li class="chapter" data-level="8.16" data-path="distributions.html"><a href="distributions.html#other-geometries"><i class="fa fa-check"></i><b>8.16</b> Gegplot2 geometrias</a>
<ul>
<li class="chapter" data-level="8.16.1" data-path="distributions.html"><a href="distributions.html#gráficos-de-barra"><i class="fa fa-check"></i><b>8.16.1</b> Gráficos de barra</a></li>
<li class="chapter" data-level="8.16.2" data-path="distributions.html"><a href="distributions.html#histogramas-1"><i class="fa fa-check"></i><b>8.16.2</b> Histogramas</a></li>
<li class="chapter" data-level="8.16.3" data-path="distributions.html"><a href="distributions.html#gráficos-de-densidade"><i class="fa fa-check"></i><b>8.16.3</b> Gráficos de densidade</a></li>
<li class="chapter" data-level="8.16.4" data-path="distributions.html"><a href="distributions.html#diagramas-de-caixas-1"><i class="fa fa-check"></i><b>8.16.4</b> Diagramas de caixas</a></li>
<li class="chapter" data-level="8.16.5" data-path="distributions.html"><a href="distributions.html#gráficos-qq-1"><i class="fa fa-check"></i><b>8.16.5</b> Gráficos QQ</a></li>
<li class="chapter" data-level="8.16.6" data-path="distributions.html"><a href="distributions.html#imagens"><i class="fa fa-check"></i><b>8.16.6</b> Imagens</a></li>
<li class="chapter" data-level="8.16.7" data-path="distributions.html"><a href="distributions.html#gráficos-rápidos"><i class="fa fa-check"></i><b>8.16.7</b> Gráficos rápidos</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="distributions.html"><a href="distributions.html#exercícios-18"><i class="fa fa-check"></i><b>8.17</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>9</b> Visualização de dados na prática</a>
<ul>
<li class="chapter" data-level="9.1" data-path="gapminder.html"><a href="gapminder.html#estudo-de-caso-novas-idéias-sobre-pobreza"><i class="fa fa-check"></i><b>9.1</b> Estudo de caso: novas idéias sobre pobreza</a></li>
<li class="chapter" data-level="9.2" data-path="gapminder.html"><a href="gapminder.html#diagrama-de-dispersão"><i class="fa fa-check"></i><b>9.2</b> Diagrama de dispersão</a></li>
<li class="chapter" data-level="9.3" data-path="gapminder.html"><a href="gapminder.html#separe-em-facetas"><i class="fa fa-check"></i><b>9.3</b> Separe em facetas</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="gapminder.html"><a href="gapminder.html#facet_wrap"><i class="fa fa-check"></i><b>9.3.1</b> <code>facet_wrap</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="gapminder.html"><a href="gapminder.html#escalas-fixas-para-melhores-comparações"><i class="fa fa-check"></i><b>9.3.2</b> Escalas fixas para melhores comparações</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="gapminder.html"><a href="gapminder.html#gráficos-de-séries-temporais"><i class="fa fa-check"></i><b>9.4</b> Gráficos de séries temporais</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="gapminder.html"><a href="gapminder.html#etiquetas-em-vez-de-legendas"><i class="fa fa-check"></i><b>9.4.1</b> Etiquetas em vez de legendas</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="gapminder.html"><a href="gapminder.html#transformações-de-dados"><i class="fa fa-check"></i><b>9.5</b> Transformações de dados</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="gapminder.html"><a href="gapminder.html#transformação-logarítmica"><i class="fa fa-check"></i><b>9.5.1</b> Transformação logarítmica</a></li>
<li class="chapter" data-level="9.5.2" data-path="gapminder.html"><a href="gapminder.html#qual-base"><i class="fa fa-check"></i><b>9.5.2</b> Qual base?</a></li>
<li class="chapter" data-level="9.5.3" data-path="gapminder.html"><a href="gapminder.html#transformar-valores-ou-escala"><i class="fa fa-check"></i><b>9.5.3</b> Transformar valores ou escala?</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="gapminder.html"><a href="gapminder.html#como-visualizar-distribuições-multimodais"><i class="fa fa-check"></i><b>9.6</b> Como visualizar distribuições multimodais</a></li>
<li class="chapter" data-level="9.7" data-path="gapminder.html"><a href="gapminder.html#como-comparar-várias-distribuições-com-gráficos-de-caixas-e-gráficos-ridge"><i class="fa fa-check"></i><b>9.7</b> Como comparar várias distribuições com gráficos de caixas e gráficos <em>ridge</em></a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="gapminder.html"><a href="gapminder.html#diagrama-de-caixa"><i class="fa fa-check"></i><b>9.7.1</b> Diagrama de caixa</a></li>
<li class="chapter" data-level="9.7.2" data-path="gapminder.html"><a href="gapminder.html#exemplo-distribuições-de-renda-1970-versus-2010"><i class="fa fa-check"></i><b>9.7.2</b> Exemplo: distribuições de renda 1970 versus 2010</a></li>
<li class="chapter" data-level="9.7.3" data-path="gapminder.html"><a href="gapminder.html#como-acessar-variáveis-calculadas"><i class="fa fa-check"></i><b>9.7.3</b> Como acessar variáveis calculadas</a></li>
<li class="chapter" data-level="9.7.4" data-path="gapminder.html"><a href="gapminder.html#densidades-ponderadas"><i class="fa fa-check"></i><b>9.7.4</b> Densidades ponderadas</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="gapminder.html"><a href="gapminder.html#a-falácia-ecológica-e-a-importância-de-mostrar-os-dados"><i class="fa fa-check"></i><b>9.8</b> A falácia ecológica e a importância de mostrar os dados</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="gapminder.html"><a href="gapminder.html#logit"><i class="fa fa-check"></i><b>9.8.1</b> Transformação de logística</a></li>
<li class="chapter" data-level="9.8.2" data-path="gapminder.html"><a href="gapminder.html#mostrar-os-dados"><i class="fa fa-check"></i><b>9.8.2</b> Mostrar os dados</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html"><i class="fa fa-check"></i><b>10</b> Princípios de visualização de dados</a>
<ul>
<li class="chapter" data-level="10.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#como-codificar-dados-usando-pistas-visuais"><i class="fa fa-check"></i><b>10.1</b> Como codificar dados usando pistas visuais</a></li>
<li class="chapter" data-level="10.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#saiba-quando-incluir-0"><i class="fa fa-check"></i><b>10.2</b> Saiba quando incluir 0</a></li>
<li class="chapter" data-level="10.3" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#não-distorça-quantidades"><i class="fa fa-check"></i><b>10.3</b> Não distorça quantidades</a></li>
<li class="chapter" data-level="10.4" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#classificar-categorias-por-valor-significativo"><i class="fa fa-check"></i><b>10.4</b> Classificar categorias por valor significativo</a></li>
<li class="chapter" data-level="10.5" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#mostrar-os-dados-1"><i class="fa fa-check"></i><b>10.5</b> Mostrar os dados</a></li>
<li class="chapter" data-level="10.6" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#como-facilitar-comparações"><i class="fa fa-check"></i><b>10.6</b> Como facilitar comparações</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#use-eixos-comuns"><i class="fa fa-check"></i><b>10.6.1</b> Use eixos comuns</a></li>
<li class="chapter" data-level="10.6.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#alinhe-os-gráficos-verticalmente-para-ver-alterações-horizontais-e-horizontalmente-para-ver-alterações-verticais"><i class="fa fa-check"></i><b>10.6.2</b> Alinhe os gráficos verticalmente para ver alterações horizontais e horizontalmente para ver alterações verticais</a></li>
<li class="chapter" data-level="10.6.3" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#considere-transformações"><i class="fa fa-check"></i><b>10.6.3</b> Considere transformações</a></li>
<li class="chapter" data-level="10.6.4" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#as-indicações-visuais-comparadas-devem-ser-adjacentes"><i class="fa fa-check"></i><b>10.6.4</b> As indicações visuais comparadas devem ser adjacentes</a></li>
<li class="chapter" data-level="10.6.5" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#use-cores"><i class="fa fa-check"></i><b>10.6.5</b> Use cores</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#pense-no-daltônico"><i class="fa fa-check"></i><b>10.7</b> Pense no daltônico</a></li>
<li class="chapter" data-level="10.8" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráficos-para-duas-variáveis"><i class="fa fa-check"></i><b>10.8</b> Gráficos para duas variáveis</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráficos-de-inclinação"><i class="fa fa-check"></i><b>10.8.1</b> Gráficos de inclinação</a></li>
<li class="chapter" data-level="10.8.2" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#gráfico-de-bland-altman"><i class="fa fa-check"></i><b>10.8.2</b> Gráfico de Bland-Altman</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#como-codificar-uma-terceira-variável"><i class="fa fa-check"></i><b>10.9</b> Como codificar uma terceira variável</a></li>
<li class="chapter" data-level="10.10" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#evitar-gráficos-pseudo-tridimensionais"><i class="fa fa-check"></i><b>10.10</b> Evitar gráficos pseudo-tridimensionais</a></li>
<li class="chapter" data-level="10.11" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#evite-muitos-dígitos-significativos"><i class="fa fa-check"></i><b>10.11</b> Evite muitos dígitos significativos</a></li>
<li class="chapter" data-level="10.12" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#conheça-o-seu-público"><i class="fa fa-check"></i><b>10.12</b> Conheça o seu público</a></li>
<li class="chapter" data-level="10.13" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#exercícios-19"><i class="fa fa-check"></i><b>10.13</b> Exercícios</a></li>
<li class="chapter" data-level="10.14" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#vaccines"><i class="fa fa-check"></i><b>10.14</b> Estudo de caso: vacinas e doenças infecciosas</a></li>
<li class="chapter" data-level="10.15" data-path="princípios-de-visualização-de-dados.html"><a href="princípios-de-visualização-de-dados.html#exercícios-20"><i class="fa fa-check"></i><b>10.15</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>11</b> Resumos robustos</a>
<ul>
<li class="chapter" data-level="11.1" data-path="robust-summaries.html"><a href="robust-summaries.html#valores-atípicos"><i class="fa fa-check"></i><b>11.1</b> Valores atípicos</a></li>
<li class="chapter" data-level="11.2" data-path="robust-summaries.html"><a href="robust-summaries.html#mediana"><i class="fa fa-check"></i><b>11.2</b> Mediana</a></li>
<li class="chapter" data-level="11.3" data-path="robust-summaries.html"><a href="robust-summaries.html#o-intervalo-interquartil-iqr"><i class="fa fa-check"></i><b>11.3</b> O intervalo interquartil (IQR)</a></li>
<li class="chapter" data-level="11.4" data-path="robust-summaries.html"><a href="robust-summaries.html#definição-de-tukey-de-um-outlier"><i class="fa fa-check"></i><b>11.4</b> Definição de Tukey de um outlier</a></li>
<li class="chapter" data-level="11.5" data-path="robust-summaries.html"><a href="robust-summaries.html#desvio-absoluto-mediano"><i class="fa fa-check"></i><b>11.5</b> Desvio absoluto mediano</a></li>
<li class="chapter" data-level="11.6" data-path="robust-summaries.html"><a href="robust-summaries.html#exercícios-21"><i class="fa fa-check"></i><b>11.6</b> Exercícios</a></li>
<li class="chapter" data-level="11.7" data-path="robust-summaries.html"><a href="robust-summaries.html#estudo-de-caso-altura-do-aluno-autorreferida"><i class="fa fa-check"></i><b>11.7</b> Estudo de caso: altura do aluno autorreferida</a></li>
</ul></li>
<li class="part"><span><b>III Estatísticas com R</b></span></li>
<li class="chapter" data-level="12" data-path="introdução-às-estatísticas-com-r.html"><a href="introdução-às-estatísticas-com-r.html"><i class="fa fa-check"></i><b>12</b> Introdução às estatísticas com R</a></li>
<li class="chapter" data-level="13" data-path="probabilidade.html"><a href="probabilidade.html"><i class="fa fa-check"></i><b>13</b> Probabilidade</a>
<ul>
<li class="chapter" data-level="13.1" data-path="probabilidade.html"><a href="probabilidade.html#probabilidade-discreta"><i class="fa fa-check"></i><b>13.1</b> Probabilidade discreta</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="probabilidade.html"><a href="probabilidade.html#frequência-relativa"><i class="fa fa-check"></i><b>13.1.1</b> Frequência relativa</a></li>
<li class="chapter" data-level="13.1.2" data-path="probabilidade.html"><a href="probabilidade.html#notação"><i class="fa fa-check"></i><b>13.1.2</b> Notação</a></li>
<li class="chapter" data-level="13.1.3" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-de-probabilidade"><i class="fa fa-check"></i><b>13.1.3</b> Distribuições de probabilidade</a></li>
<li class="chapter" data-level="13.1.4" data-path="probabilidade.html"><a href="probabilidade.html#defina-a-semente-aleatória"><i class="fa fa-check"></i><b>13.1.4</b> Defina a semente aleatória</a></li>
<li class="chapter" data-level="13.1.5" data-path="probabilidade.html"><a href="probabilidade.html#com-e-sem-substituição"><i class="fa fa-check"></i><b>13.1.5</b> Com e sem substituição</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="probabilidade.html"><a href="probabilidade.html#independência"><i class="fa fa-check"></i><b>13.2</b> Independência</a></li>
<li class="chapter" data-level="13.3" data-path="probabilidade.html"><a href="probabilidade.html#probabilidades-condicionais"><i class="fa fa-check"></i><b>13.3</b> Probabilidades condicionais</a></li>
<li class="chapter" data-level="13.4" data-path="probabilidade.html"><a href="probabilidade.html#regras-de-adição-e-multiplicação"><i class="fa fa-check"></i><b>13.4</b> Regras de adição e multiplicação</a></li>
<li class="chapter" data-level="13.5" data-path="probabilidade.html"><a href="probabilidade.html#combinações-e-permutações"><i class="fa fa-check"></i><b>13.5</b> Combinações e permutações</a></li>
<li class="chapter" data-level="13.6" data-path="probabilidade.html"><a href="probabilidade.html#exemplos"><i class="fa fa-check"></i><b>13.6</b> Exemplos</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="probabilidade.html"><a href="probabilidade.html#problema-de-aniversário"><i class="fa fa-check"></i><b>13.6.1</b> Problema de aniversário</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="probabilidade.html"><a href="probabilidade.html#exercícios-22"><i class="fa fa-check"></i><b>13.7</b> Exercícios</a></li>
<li class="chapter" data-level="13.8" data-path="probabilidade.html"><a href="probabilidade.html#probabilidade-contínua"><i class="fa fa-check"></i><b>13.8</b> Probabilidade contínua</a></li>
<li class="chapter" data-level="13.9" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-teóricas-contínuas"><i class="fa fa-check"></i><b>13.9</b> Distribuições teóricas contínuas</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-teóricas-como-aproximações"><i class="fa fa-check"></i><b>13.9.1</b> Distribuições teóricas como aproximações</a></li>
<li class="chapter" data-level="13.9.2" data-path="probabilidade.html"><a href="probabilidade.html#a-densidade-de-probabilidade"><i class="fa fa-check"></i><b>13.9.2</b> A densidade de probabilidade</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="probabilidade.html"><a href="probabilidade.html#distribuições-contínuas"><i class="fa fa-check"></i><b>13.10</b> Distribuições contínuas</a></li>
<li class="chapter" data-level="13.11" data-path="probabilidade.html"><a href="probabilidade.html#exercícios-23"><i class="fa fa-check"></i><b>13.11</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html"><i class="fa fa-check"></i><b>14</b> Variáveis aleatórias</a>
<ul>
<li class="chapter" data-level="14.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#variáveis-aleatórias-1"><i class="fa fa-check"></i><b>14.1</b> Variáveis aleatórias</a></li>
<li class="chapter" data-level="14.2" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#modelos-de-amostragem"><i class="fa fa-check"></i><b>14.2</b> Modelos de amostragem</a></li>
<li class="chapter" data-level="14.3" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#a-distribuição-de-probabilidade-de-uma-variável-aleatória"><i class="fa fa-check"></i><b>14.3</b> A distribuição de probabilidade de uma variável aleatória</a></li>
<li class="chapter" data-level="14.4" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#distribuições-versus-distribuições-de-probabilidade"><i class="fa fa-check"></i><b>14.4</b> Distribuições versus distribuições de probabilidade</a></li>
<li class="chapter" data-level="14.5" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#o-valor-esperado-e-o-erro-padrão"><i class="fa fa-check"></i><b>14.5</b> O valor esperado e o erro padrão</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#população-sd-versus-amostra-sd"><i class="fa fa-check"></i><b>14.5.1</b> População SD versus amostra SD</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#teorema-do-limite-central"><i class="fa fa-check"></i><b>14.6</b> Teorema do limite central</a></li>
<li class="chapter" data-level="14.7" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#propriedades-estatísticas-das-médias"><i class="fa fa-check"></i><b>14.7</b> Propriedades estatísticas das médias</a></li>
<li class="chapter" data-level="14.8" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#lei-dos-grandes-números"><i class="fa fa-check"></i><b>14.8</b> Lei dos grandes números</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#interpretação-incorreta-da-lei-das-médias"><i class="fa fa-check"></i><b>14.8.1</b> Interpretação incorreta da lei das médias</a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#exercícios-24"><i class="fa fa-check"></i><b>14.9</b> Exercícios</a></li>
<li class="chapter" data-level="14.10" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#estudo-de-caso-o-grande-short"><i class="fa fa-check"></i><b>14.10</b> Estudo de caso: o grande short</a>
<ul>
<li class="chapter" data-level="14.10.1" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#taxas-de-juros-explicadas-com-um-modelo-de-oportunidade"><i class="fa fa-check"></i><b>14.10.1</b> Taxas de juros explicadas com um modelo de oportunidade</a></li>
<li class="chapter" data-level="14.10.2" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#o-grande-curto"><i class="fa fa-check"></i><b>14.10.2</b> O Grande Curto</a></li>
</ul></li>
<li class="chapter" data-level="14.11" data-path="variáveis-aleatórias.html"><a href="variáveis-aleatórias.html#exercícios-25"><i class="fa fa-check"></i><b>14.11</b> Exercícios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado com bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Ciência de Dados</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="princípios-de-visualização-de-dados" class="section level1" number="10">
<h1><span class="header-section-number">Capítulo 10</span> Princípios de visualização de dados</h1>
<p>Já definimos algumas regras a serem seguidas ao criar gráficos para nossos exemplos. Aqui, nosso objetivo é oferecer alguns princípios gerais que podemos usar como um guia para uma visualização eficaz dos dados. Grande parte desta seção é baseada em uma palestra de Karl Broman<a href="#fn32" class="footnote-ref" id="fnref32"><sup>32</sup></a> intitulada “Criando figuras e tabelas eficazes”<a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a> e inclui algumas das figuras que foram criadas com o código que Karl disponibiliza em seu repositório GitHub<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a>, bem como as notas da classe " Introdução à visualização de dados ", de Peter Aldhous<a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a>. Seguindo a abordagem de Karl, mostramos alguns exemplos de estilos de gráfico a serem evitados, explicamos como melhorá-los e depois os usamos como motivação para uma lista de princípios. Além disso, comparamos e contrastamos gráficos que seguem esses princípios com outros que os ignoram.</p>
<p>Os princípios são baseados principalmente em pesquisas relacionadas à forma como os seres humanos detectam padrões e fazem comparações visuais. As abordagens preferidas são as que melhor se adaptam à maneira como nossos cérebros processam as informações visuais. Ao escolher as ferramentas de visualização, é importante ter em mente nosso objetivo. Podemos comparar um número suficientemente pequeno de números que podem ser distinguidos, descrevendo distribuições de dados categóricos ou valores numéricos, comparando os dados de dois grupos ou descrevendo a relação entre duas variáveis e isso afeta a apresentação que escolheremos. Como observação final, queremos enfatizar que é importante para os cientistas de dados adaptar e otimizar gráficos para o público. Por exemplo, um gráfico exploratório feito para nós será diferente de uma tabela destinada a comunicar uma descoberta a um público em geral.</p>
<p>Vamos usar estes pacotes:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="princípios-de-visualização-de-dados.html#cb388-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb388-2"><a href="princípios-de-visualização-de-dados.html#cb388-2"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb388-3"><a href="princípios-de-visualização-de-dados.html#cb388-3"></a><span class="kw">library</span>(gridExtra)</span></code></pre></div>
<div id="como-codificar-dados-usando-pistas-visuais" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Como codificar dados usando pistas visuais</h2>
<p>Começamos descrevendo alguns princípios para codificar dados. Existem várias abordagens à nossa disposição, incluindo posição, comprimento, ângulos, área, brilho e tom da cor.</p>
<p>Para ilustrar como algumas dessas estratégias se comparam, suponha que desejamos relatar os resultados de duas pesquisas hipotéticas, realizadas em 2000 e depois em 2015, em relação à preferência do navegador. Para cada ano, estamos simplesmente comparando cinco quantidades: as cinco porcentagens. Uma representação gráfica de porcentagens amplamente usada e popularizada pelo Microsoft Excel é o gráfico de pizza:</p>
<p><img src="livro_files/figure-html/piechart-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Aqui estamos representando quantidades com áreas e ângulos, pois o ângulo e a área de cada seção do gráfico são proporcionais à quantidade que o setor representa. Isso acaba sendo uma opção abaixo do ideal, pois, como mostram os estudos perceptivos, os seres humanos não são bons em quantificar com precisão ângulos e são ainda piores quando a área é o único sinal visual disponível. O gráfico em anel é um exemplo de gráfico que usa apenas a área:</p>
<p><img src="livro_files/figure-html/donutchart-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Para ver como é difícil quantificar ângulos e área, lembre-se de que as classificações e todas as porcentagens nos gráficos acima foram alteradas de 2000 para 2015. Você pode determinar as porcentagens reais e classificar a popularidade dos navegadores? Você pode ver como as porcentagens mudaram de 2000 para 2015? Não é fácil diferenciá-lo do gráfico. De fato, a função <code>pie</code> da página de ajuda de R observa que:</p>
<blockquote>
<p>Os gráficos de pizza são uma maneira muito ruim de exibir informações. O olho é bom em julgar medições lineares e ruim em julgar áreas relativas. Um diagrama de barras ou pontos é uma maneira preferível de exibir esse tipo de dados.</p>
</blockquote>
<p>Nesse caso, simplesmente exibir os números não é apenas mais claro, mas também reduziria os custos de impressão se você imprimir uma cópia em papel:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Browser
</th>
<th style="text-align:right;">
2000
</th>
<th style="text-align:right;">
2015
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Opera
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Safari
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Firefox
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:left;">
Chrome
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
29
</td>
</tr>
<tr>
<td style="text-align:left;">
IE
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
27
</td>
</tr>
</tbody>
</table>
<p>A maneira preferida de representar graficamente essas quantidades é usar comprimento e posição como pistas visuais, uma vez que os humanos são muito melhores em julgar medições lineares. O gráfico de barras usa essa abordagem usando barras de comprimento proporcional às quantias de interesse. Ao adicionar linhas horizontais aos valores escolhidos estrategicamente, neste caso, a cada múltiplo de 10, aliviaremos a carga visual da quantificação através da posição da parte superior das barras. Compare e compare as informações que podemos extrair dos dois pares de gráficos a seguir.</p>
<p><img src="livro_files/figure-html/two-barplots-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Observe como é fácil ver as diferenças no gráfico de barras. De fato, agora podemos determinar as porcentagens reais seguindo uma linha horizontal para o eixo x.</p>
<p>Se, por algum motivo, você precisar criar um gráfico circular, rotule cada seção do círculo com sua respectiva porcentagem para que o público não precise inferi-las a partir dos ângulos ou da área:</p>
<p><img src="livro_files/figure-html/excel-barplot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Em geral, ao exibir quantidades, posição e comprimento sobre ângulos e/ ou área são os preferidos. O brilho e a cor são ainda mais difíceis de quantificar do que os ângulos. Mas, como veremos mais adiante, às vezes são úteis quando mais de duas dimensões devem ser exibidas ao mesmo tempo.</p>
</div>
<div id="saiba-quando-incluir-0" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Saiba quando incluir 0</h2>
<p>Ao usar gráficos de barras, é errado não iniciar as barras em 0. Isso ocorre porque, ao usar um gráfico de barras, estamos sugerindo que o comprimento é proporcional às quantidades mostradas. Ao evitar 0, você pode fazer com que diferenças relativamente pequenas pareçam muito maiores do que realmente são. Essa abordagem é frequentemente usada por políticos ou pela mídia que tentam exagerar a diferença. Abaixo está um exemplo ilustrativo usado por Peter Aldhous nesta palestra: <a href="http://paldhous.github.io/ucb/2016/dataviz/week2.htmlfont" class="uri">http://paldhous.github.io/ucb/2016/dataviz/week2.htmlfont</a>^^ <a href="http://paldhous.github.io/ucb/2016/" class="uri">http://paldhous.github.io/ucb/2016/</a> dataviz/ week2.html].</p>
<p><img src="dataviz/img/class2_8.jpg" width="70%" style="display: block; margin: auto;" /></p>
<p>(Fonte: Fox News, via Media Matters<a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a>.)</p>
<p>No gráfico acima, as detenções parecem ter triplicado quando, de fato, elas aumentaram apenas aproximadamente 16%. Iniciar o gráfico em 0 ilustra isso claramente:</p>
<p><img src="livro_files/figure-html/barplot-from-zero-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Abaixo, vemos outro exemplo, que é descrito em detalhes em um artigo do blog “Flowing Data”:</p>
<p><img src="dataviz/img/Bush-cuts.png" width="70%" style="display: block; margin: auto;" />
(Fonte: Fox News, através da Flowing Data<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a>)</p>
<p>Este gráfico faz um aumento de 13% parecer cinco vezes maior. Aqui está o gráfico apropriado:</p>
<p><img src="livro_files/figure-html/barplot-from-zero-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Finalmente, aqui está um exemplo extremo que faz uma diferença muito pequena de menos de 2% parecer 10 a 100 vezes maior:</p>
<p><img src="dataviz/img/venezuela-election.png" width="70%" style="display: block; margin: auto;" /></p>
<p>(Fonte:
Televisão venezuelana via Pakistan Today<a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a> e Diego Mariano)</p>
<p>Aqui está o gráfico apropriado:</p>
<p><img src="livro_files/figure-html/barplot-from-zero-3-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Ao usar a posição em vez do comprimento, não é necessário incluir 0. Esse é particularmente o caso quando queremos comparar as diferenças entre os grupos em relação à variabilidade dentro de um grupo. Aqui está um exemplo ilustrativo que mostra a expectativa média de vida de cada país estratificado por continente em 2012:</p>
<p><img src="livro_files/figure-html/points-plot-not-from-zero-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Observe que, no gráfico à esquerda, que inclui 0, o espaço entre 0 e 43 não adiciona informações e dificulta a comparação da variabilidade entre e dentro do grupo.</p>
</div>
<div id="não-distorça-quantidades" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Não distorça quantidades</h2>
<p>Durante o discurso do Estado da União de Barack Obama em 2011, o gráfico a seguir foi usado para comparar o PIB dos EUA. EUA com o PIB de quatro nações concorrentes:</p>
<p><img src="dataviz/img/state-of-the-union.png" width="70%" style="display: block; margin: auto;" />
(Fonte: endereço do estado da união de 2011<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a>)</p>
<p>Se julgarmos pela área dos círculos, os Estados Unidos parecem ter uma economia cinco vezes maior que a da China e mais de 30 vezes maior que a da França. No entanto, se olharmos para os números atuais, veremos que esse não é o caso. As proporções são 2,6 e 5,8 vezes superiores às da China e da França, respectivamente. A razão para essa distorção é que o raio do círculo, em vez da área, se tornou proporcional à quantidade, o que implica que a razão entre as áreas é quadrada: 2,6 se torna 6,5 e 5,8 se torna 34,1. Aqui está uma comparação dos círculos que obtemos se tornarmos o valor proporcional ao raio e à área:</p>
<p><img src="livro_files/figure-html/area-not-radius-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Não é surpresa que, por padrão, <strong>ggplot2</strong> use a área em vez do raio. No entanto, nesse caso, realmente não devemos usar a área, pois podemos usar a posição e o comprimento:</p>
<p><img src="livro_files/figure-html/barplot-better-than-area-1.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="classificar-categorias-por-valor-significativo" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Classificar categorias por valor significativo</h2>
<p>Quando um dos eixos é usado para exibir categorias, como é feito nos gráficos de barras, o comportamento padrão de <strong>ggplot2</strong> é classificar as categorias em ordem alfabética quando definidas por cadeias de caracteres. Se eles são definidos por fatores, são ordenados de acordo com os níveis dos fatores. Raramente queremos usar a ordem alfabética. Em vez disso, devemos solicitar uma quantidade significativa. Em todos os casos anteriores, os gráficos de barras foram ordenados de acordo com os valores mostrados. A exceção foram gráficos de barras comparando navegadores. Nesse caso, mantivemos a ordem igual em todos os gráficos de barras para facilitar a comparação. Especificamente, em vez de solicitar navegadores separadamente nos dois anos, solicitamos os dois anos pelo valor médio de 2000 e 2015.</p>
<p>Anteriormente, aprendemos a usar a função <code>reorder</code>, o que nos ajuda a alcançar esse objetivo. Para avaliar como a ordem correta pode ajudar a transmitir uma mensagem, suponha que desejamos criar um gráfico para comparar a taxa de homicídios em todos os estados dos EUA.estamos particularmente interessados nos estados mais perigosos e mais seguros. Lembre-se da diferença quando solicitamos alfabeticamente, a ação padrão, versus quando solicitamos pela taxa real:</p>
<p><img src="livro_files/figure-html/do-not-order-alphabetically-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Podemos fazer o segundo gráfico assim:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="princípios-de-visualização-de-dados.html#cb389-1"></a><span class="kw">data</span>(murders)</span>
<span id="cb389-2"><a href="princípios-de-visualização-de-dados.html#cb389-2"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">murder_rate =</span> total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>) <span class="op">%&gt;%</span></span>
<span id="cb389-3"><a href="princípios-de-visualização-de-dados.html#cb389-3"></a><span class="kw">mutate</span>(<span class="dt">state =</span> <span class="kw">reorder</span>(state, murder_rate)) <span class="op">%&gt;%</span></span>
<span id="cb389-4"><a href="princípios-de-visualização-de-dados.html#cb389-4"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(state, murder_rate)) <span class="op">+</span></span>
<span id="cb389-5"><a href="princípios-de-visualização-de-dados.html#cb389-5"></a><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="op">+</span></span>
<span id="cb389-6"><a href="princípios-de-visualização-de-dados.html#cb389-6"></a><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb389-7"><a href="princípios-de-visualização-de-dados.html#cb389-7"></a><span class="kw">theme</span>(<span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">6</span>)) <span class="op">+</span></span>
<span id="cb389-8"><a href="princípios-de-visualização-de-dados.html#cb389-8"></a><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>A função <code>reorder</code> também nos permite reordenar grupos. Anteriormente, vimos um exemplo relacionado à distribuição de renda entre regiões. Aqui vemos as duas versões representadas graficamente uma contra a outra:</p>
<p><img src="livro_files/figure-html/reorder-boxplot-example-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>O primeiro gráfico classifica as regiões em ordem alfabética, enquanto o segundo gráfico as classifica pela mediana do grupo.</p>
</div>
<div id="mostrar-os-dados-1" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> Mostrar os dados</h2>
<p>Nosso foco foi exibir quantidades únicas em todas as categorias. Agora, voltamos nossa atenção para a visualização de dados, com foco na comparação de grupos.</p>
<p>Para motivar nosso primeiro princípio, “mostrar os dados”, retornamos ao nosso exemplo artificial de descrição de alturas para ET, um alienígena. Desta vez, suponha que o ET esteja interessado na diferença de altura entre homens e mulheres. Um gráfico comumente usado para comparações de grupo e popularizado por software como o Microsoft Excel, é o <em>dynamite plot</em>, que mostra os erros médios e padrão (os erros padrão são definidos em um capítulo posterior, mas não os confundem com o desvio padrão do dados). O gráfico fica assim:</p>
<p><img src="livro_files/figure-html/show-data-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A média de cada grupo é representada pelo topo de cada barra e as antenas se estendem da média para a média mais dois erros padrão. Se tudo o que o ET obtiver for esse gráfico, você terá poucas informações sobre o que esperar se encontrar um grupo de homens e mulheres. As barras vão para 0: isso significa que existem seres humanos pequenos com menos de um pé de altura? Todos os homens são mais altos que as mulheres mais altas? Existe uma variedade de alturas? O ET é incapaz de responder a essas perguntas, pois mal lhe fornecemos informações sobre a distribuição da altura.</p>
<p>Isso nos leva ao nosso primeiro princípio: exibir os dados. Esse código <strong>ggplot2</strong> simples já gera um gráfico mais informativo que o gráfico de barras, exibindo todos os pontos de dados:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="princípios-de-visualização-de-dados.html#cb390-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb390-2"><a href="princípios-de-visualização-de-dados.html#cb390-2"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(sex, height)) <span class="op">+</span></span>
<span id="cb390-3"><a href="princípios-de-visualização-de-dados.html#cb390-3"></a><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/show-data-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>O gráfico acima nos dá uma idéia do alcance dos dados. No entanto, este gráfico também possui limitações, pois não podemos realmente ver toda a soma FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE y 812pontos plotados para mulheres e homens, respectivamente, e muitos pontos são plotados um sobre o outro. Como descrevemos anteriormente, visualizar a distribuição é muito mais informativo. Porém, antes de fazer isso, apontamos duas maneiras de melhorar um gráfico que mostra todos os pontos.</p>
<p>O primeiro é adicionar <em>jitter</em>, que adiciona um pequeno deslocamento aleatório a cada ponto. Nesse caso, adicionar horizontal <em>jitter</em> não altera a interpretação, pois as alturas dos pontos não mudam, mas minimizamos o número de pontos que se sobrepõem e, portanto, temos uma melhor ideia visual de como os dados são distribuídos. Uma segunda melhoria vem do uso de <em>alpha blending</em>, que torna os pontos um pouco transparentes. Quanto mais pontos se sobrepuserem, mais escuro será o gráfico, o que também nos ajudará a ter uma idéia de como os pontos são distribuídos. Aqui está o mesmo gráfico com <em>jitter_e_alpha blending</em>:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="princípios-de-visualização-de-dados.html#cb391-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb391-2"><a href="princípios-de-visualização-de-dados.html#cb391-2"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(sex, height)) <span class="op">+</span></span>
<span id="cb391-3"><a href="princípios-de-visualização-de-dados.html#cb391-3"></a><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.1</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/show-points-with-jitter-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Agora começamos a sentir que, em média, os machos são mais altos que as fêmeas. Também observamos faixas pontilhadas horizontais escuras, o que mostra que muitos alunos indicam valores arredondados para o número inteiro mais próximo.</p>
</div>
<div id="como-facilitar-comparações" class="section level2" number="10.6">
<h2><span class="header-section-number">10.6</span> Como facilitar comparações</h2>
<div id="use-eixos-comuns" class="section level3" number="10.6.1">
<h3><span class="header-section-number">10.6.1</span> Use eixos comuns</h3>
<p>Como existem muitos pontos, é mais eficaz mostrar distribuições do que pontos individuais. Portanto, mostramos histogramas para cada grupo:</p>
<p><img src="livro_files/figure-html/common-axes-histograms-wrong-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>No entanto, olhando para o gráfico acima, não é imediatamente óbvio que os homens são, em média, mais altos que as mulheres. Temos que observar com atenção para perceber que o eixo x tem uma faixa de valores mais alta no histograma masculino. Um princípio importante aqui é <strong>manter os eixos iguais</strong> ao comparar dados em dois gráficos. A seguir, vemos como a comparação se torna mais fácil:</p>
<p><img src="livro_files/figure-html/common-axes-histograms-right-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="alinhe-os-gráficos-verticalmente-para-ver-alterações-horizontais-e-horizontalmente-para-ver-alterações-verticais" class="section level3" number="10.6.2">
<h3><span class="header-section-number">10.6.2</span> Alinhe os gráficos verticalmente para ver alterações horizontais e horizontalmente para ver alterações verticais</h3>
<p>Nesses histogramas, o sinal visual relacionado a reduções ou aumentos de altura são alterações à esquerda ou à direita, respectivamente: alterações horizontais. O alinhamento vertical dos gráficos nos ajuda a ver essa alteração quando os eixos são fixos:</p>
<p><img src="livro_files/figure-html/common-axes-histograms-right-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="princípios-de-visualização-de-dados.html#cb392-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb392-2"><a href="princípios-de-visualização-de-dados.html#cb392-2"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(height, ..density..)) <span class="op">+</span></span>
<span id="cb392-3"><a href="princípios-de-visualização-de-dados.html#cb392-3"></a><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">1</span>, <span class="dt">color=</span><span class="st">&quot;black&quot;</span>) <span class="op">+</span></span>
<span id="cb392-4"><a href="princípios-de-visualização-de-dados.html#cb392-4"></a><span class="kw">facet_grid</span>(sex<span class="op">~</span>.)</span></code></pre></div>
<p>O gráfico acima facilita a observação de que os machos são, em média, mais altos.</p>
<p>Se quisermos obter o resumo compacto que os boxplots oferecem, precisamos alinhá-los horizontalmente, pois, por padrão, os boxplots se movem para cima e para baixo com base nas mudanças de altura. Seguindo o princípio “mostrar os dados”, sobrepusemos todos os pontos de dados:</p>
<p><img src="livro_files/figure-html/boxplot-with-points-with-jitter-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="princípios-de-visualização-de-dados.html#cb393-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb393-2"><a href="princípios-de-visualização-de-dados.html#cb393-2"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(sex, height)) <span class="op">+</span></span>
<span id="cb393-3"><a href="princípios-de-visualização-de-dados.html#cb393-3"></a><span class="kw">geom_boxplot</span>(<span class="dt">coef=</span><span class="dv">3</span>) <span class="op">+</span></span>
<span id="cb393-4"><a href="princípios-de-visualização-de-dados.html#cb393-4"></a><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.1</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb393-5"><a href="princípios-de-visualização-de-dados.html#cb393-5"></a><span class="kw">ylab</span>(<span class="st">&quot;Height in inches&quot;</span>)</span></code></pre></div>
<p>Agora compare e contraste estes três gráficos, com base exatamente nos mesmos dados:</p>
<p><img src="livro_files/figure-html/show-the-data-comparison-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Observe quanto aprendemos mais nos dois gráficos à direita. Os gráficos de barras são úteis para exibir um número, mas não são muito úteis quando queremos descrever distribuições.</p>
</div>
<div id="considere-transformações" class="section level3" number="10.6.3">
<h3><span class="header-section-number">10.6.3</span> Considere transformações</h3>
<p>Incentivamos o uso de transformação logarítmica nos casos em que as alterações são multiplicativas. O tamanho da população foi um exemplo em que descobrimos que uma transformação logarítmica produziu uma transformação mais informativa.</p>
<p>A combinação de um gráfico de barras escolhido incorretamente e a não utilização de uma transformação logarítmica, quando necessário, podem ser particularmente distorcidas. Como exemplo, considere este gráfico de barras mostrando os tamanhos médios da população para cada continente em 2015:</p>
<p><img src="livro_files/figure-html/no-transformations-wrong-use-of-barplot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Observando o gráfico acima, conclui-se que os países asiáticos são muito mais populosos do que os de outros continentes. Seguindo o princípio “mostrar os dados”, notamos rapidamente que isso se deve a dois países muito grandes, que assumimos serem a Índia e a China:</p>
<p><img src="livro_files/figure-html/no-transformation-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Usar uma transformação logarítmica aqui produz um gráfico muito mais informativo. Comparamos o gráfico de barras original com um gráfico de caixa usando a transformação de escala logarítmica para o eixo y:</p>
<p><img src="livro_files/figure-html/correct-transformation-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Com o novo gráfico, percebemos que os países africanos realmente têm uma população mediana maior que a Ásia.</p>
<p>Outras transformações a considerar são a transformação logística ( <code>logit</code>), que é útil para ver melhor as alterações nas probabilidades e a transformação da raiz quadrada ( <code>sqrt</code>), o que é útil para contagens.</p>
</div>
<div id="as-indicações-visuais-comparadas-devem-ser-adjacentes" class="section level3" number="10.6.4">
<h3><span class="header-section-number">10.6.4</span> As indicações visuais comparadas devem ser adjacentes</h3>
<p>Para cada continente, vamos comparar a renda em 1970 versus 2010. Ao comparar dados de renda entre regiões entre 1970 e 2010, fizemos um gráfico semelhante ao seguinte, mas desta vez investigamos os continentes em vez de regiões.</p>
<p><img src="livro_files/figure-html/boxplots-not-adjacent-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>O comportamento padrão de <strong>ggplot2</strong> é classificar os rótulos em ordem alfabética para que os rótulos com 1970 apareçam antes dos rótulos com 2010. Isso dificulta as comparações porque a distribuição de um continente em 1970 é visualmente distante da sua distribuição em 2010. É muito mais fácil Faça a comparação entre 1970 e 2010 para cada continente quando as plotagens da caixa para esse continente estiverem próximas uma da outra:</p>
<p><img src="livro_files/figure-html/boxplot-adjacent-comps-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="use-cores" class="section level3" number="10.6.5">
<h3><span class="header-section-number">10.6.5</span> Use cores</h3>
<p>A comparação é ainda mais fácil se usarmos cores para indicar as duas coisas que queremos comparar:</p>
<p><img src="livro_files/figure-html/boxplot-adjacent-comps-with-color-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="pense-no-daltônico" class="section level2" number="10.7">
<h2><span class="header-section-number">10.7</span> Pense no daltônico</h2>
<p>Cerca de 10% da população é daltônica. Infelizmente, as cores padrão usadas em <strong>ggplot2</strong> não são ideais para este grupo. No entanto, <strong>ggplot2</strong> facilita a alteração da paleta de cores usada nos gráficos. Aqui está um exemplo de como podemos usar uma paleta que considera daltônicos: [<a href="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palettefont/5(http://" class="uri">http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palettefont/5(http://</a> www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette):</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="princípios-de-visualização-de-dados.html#cb394-1"></a>color_blind_friendly_cols &lt;-</span>
<span id="cb394-2"><a href="princípios-de-visualização-de-dados.html#cb394-2"></a><span class="kw">c</span>(<span class="st">&quot;#999999&quot;</span>, <span class="st">&quot;#E69F00&quot;</span>, <span class="st">&quot;#56B4E9&quot;</span>, <span class="st">&quot;#009E73&quot;</span>,</span>
<span id="cb394-3"><a href="princípios-de-visualização-de-dados.html#cb394-3"></a><span class="st">&quot;#F0E442&quot;</span>, <span class="st">&quot;#0072B2&quot;</span>, <span class="st">&quot;#D55E00&quot;</span>, <span class="st">&quot;#CC79A7&quot;</span>)</span></code></pre></div>
<p>Aqui estão as cores:
<img src="livro_files/figure-html/color-blind-friendly-colors-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Além disso, existem vários recursos que podem ajudá-lo a selecionar cores, por exemplo, este: [<a href="http://bconnelly.net/2013/10/creating-colorblind-friendly-figures/font/1(http://bconnelly.net/2013/" class="uri">http://bconnelly.net/2013/10/creating-colorblind-friendly-figures/font/1(http://bconnelly.net/2013/</a> 10/ create-colorblind-friendly-figures/).</p>
</div>
<div id="gráficos-para-duas-variáveis" class="section level2" number="10.8">
<h2><span class="header-section-number">10.8</span> Gráficos para duas variáveis</h2>
<p>Em geral, eles devem usar diagramas de dispersão para visualizar o relacionamento entre duas variáveis. Para cada caso em que examinamos a relação entre duas variáveis, incluindo mortes totais versus tamanho da população, expectativa de vida versus taxas de fertilidade e mortalidade infantil versus renda, usamos gráficos de dispersão e esse é o gráfico que geralmente recomendamos. No entanto, existem algumas exceções e aqui descrevemos dois gráficos alternativos: o <em>slope chart_e o_Bland-Altman chart</em>.</p>
<div id="gráficos-de-inclinação" class="section level3" number="10.8.1">
<h3><span class="header-section-number">10.8.1</span> Gráficos de inclinação</h3>
<p>Uma exceção na qual outro tipo de gráfico pode ser mais informativo é quando variáveis do mesmo tipo são comparadas, mas em momentos diferentes e para um número relativamente pequeno de comparações. Por exemplo, se estivermos comparando a expectativa de vida entre 2010 e 2015. Nesse caso, poderíamos recomendar um <em>slope chart</em>.</p>
<p>Não há geometria para os _slope charts_em<strong>ggplot2</strong>, mas podemos construir uma usando <code>geom_line</code>. Precisamos fazer alguns ajustes para adicionar etiquetas. Aqui está um exemplo comparando 2010 a 2015 para os grandes países ocidentais:</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="princípios-de-visualização-de-dados.html#cb395-1"></a>west &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Western Europe&quot;</span>,<span class="st">&quot;Northern Europe&quot;</span>,<span class="st">&quot;Southern Europe&quot;</span>,</span>
<span id="cb395-2"><a href="princípios-de-visualização-de-dados.html#cb395-2"></a><span class="st">&quot;Northern America&quot;</span>,<span class="st">&quot;Australia and New Zealand&quot;</span>)</span>
<span id="cb395-3"><a href="princípios-de-visualização-de-dados.html#cb395-3"></a></span>
<span id="cb395-4"><a href="princípios-de-visualização-de-dados.html#cb395-4"></a>dat &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span></span>
<span id="cb395-5"><a href="princípios-de-visualização-de-dados.html#cb395-5"></a><span class="kw">filter</span>(year<span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">2010</span>, <span class="dv">2015</span>) <span class="op">&amp;</span><span class="st"> </span>region <span class="op">%in%</span><span class="st"> </span>west <span class="op">&amp;</span></span>
<span id="cb395-6"><a href="princípios-de-visualização-de-dados.html#cb395-6"></a><span class="op">!</span><span class="kw">is.na</span>(life_expectancy) <span class="op">&amp;</span><span class="st"> </span>population <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">7</span>)</span>
<span id="cb395-7"><a href="princípios-de-visualização-de-dados.html#cb395-7"></a></span>
<span id="cb395-8"><a href="princípios-de-visualização-de-dados.html#cb395-8"></a>dat <span class="op">%&gt;%</span></span>
<span id="cb395-9"><a href="princípios-de-visualização-de-dados.html#cb395-9"></a><span class="kw">mutate</span>(<span class="dt">location =</span> <span class="kw">ifelse</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2010</span>, <span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb395-10"><a href="princípios-de-visualização-de-dados.html#cb395-10"></a><span class="dt">location =</span> <span class="kw">ifelse</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2015</span> <span class="op">&amp;</span></span>
<span id="cb395-11"><a href="princípios-de-visualização-de-dados.html#cb395-11"></a>country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;United Kingdom&quot;</span>, <span class="st">&quot;Portugal&quot;</span>),</span>
<span id="cb395-12"><a href="princípios-de-visualização-de-dados.html#cb395-12"></a>location<span class="fl">+0.22</span>, location),</span>
<span id="cb395-13"><a href="princípios-de-visualização-de-dados.html#cb395-13"></a><span class="dt">hjust =</span> <span class="kw">ifelse</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2010</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">%&gt;%</span></span>
<span id="cb395-14"><a href="princípios-de-visualização-de-dados.html#cb395-14"></a><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">as.factor</span>(year)) <span class="op">%&gt;%</span></span>
<span id="cb395-15"><a href="princípios-de-visualização-de-dados.html#cb395-15"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(year, life_expectancy, <span class="dt">group =</span> country)) <span class="op">+</span></span>
<span id="cb395-16"><a href="princípios-de-visualização-de-dados.html#cb395-16"></a><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">color =</span> country), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb395-17"><a href="princípios-de-visualização-de-dados.html#cb395-17"></a><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">x =</span> location, <span class="dt">label =</span> country, <span class="dt">hjust =</span> hjust),</span>
<span id="cb395-18"><a href="princípios-de-visualização-de-dados.html#cb395-18"></a><span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb395-19"><a href="princípios-de-visualização-de-dados.html#cb395-19"></a><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Life Expectancy&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/slope-plot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Uma vantagem do <em>slope chart</em> é que ele rapidamente nos dá uma idéia das mudanças com base na inclinação das linhas. Embora estejamos usando o ângulo como uma sugestão visual, também estamos usando a posição para determinar valores exatos. Comparar melhorias é um pouco mais difícil com um diagrama de dispersão:</p>
<p><img src="livro_files/figure-html/scatter-plot-instead-of-slope-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>No diagrama de dispersão, seguimos o princípio de usar eixos comuns, porque os estamos comparando antes e depois. No entanto, se tivermos muitos pontos, os <em>slope charts</em> não serão mais úteis, pois é difícil ver todas as linhas.</p>
</div>
<div id="gráfico-de-bland-altman" class="section level3" number="10.8.2">
<h3><span class="header-section-number">10.8.2</span> Gráfico de Bland-Altman</h3>
<p>Como estamos interessados principalmente na diferença, faz sentido dedicar um de nossos eixos a ela. O gráfico de Bland-Altman, também conhecido como gráfico de diferença média de Tukey e <em>MA plot</em>, mostra a diferença em relação à média:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="princípios-de-visualização-de-dados.html#cb396-1"></a><span class="kw">library</span>(ggrepel)</span>
<span id="cb396-2"><a href="princípios-de-visualização-de-dados.html#cb396-2"></a>dat <span class="op">%&gt;%</span></span>
<span id="cb396-3"><a href="princípios-de-visualização-de-dados.html#cb396-3"></a><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">paste0</span>(<span class="st">&quot;life_expectancy_&quot;</span>, year)) <span class="op">%&gt;%</span></span>
<span id="cb396-4"><a href="princípios-de-visualização-de-dados.html#cb396-4"></a><span class="kw">select</span>(country, year, life_expectancy) <span class="op">%&gt;%</span></span>
<span id="cb396-5"><a href="princípios-de-visualização-de-dados.html#cb396-5"></a><span class="kw">spread</span>(year, life_expectancy) <span class="op">%&gt;%</span></span>
<span id="cb396-6"><a href="princípios-de-visualização-de-dados.html#cb396-6"></a><span class="kw">mutate</span>(<span class="dt">average =</span> (life_expectancy_<span class="dv">2015</span> <span class="op">+</span><span class="st"> </span>life_expectancy_<span class="dv">2010</span>)<span class="op">/</span><span class="dv">2</span>,</span>
<span id="cb396-7"><a href="princípios-de-visualização-de-dados.html#cb396-7"></a><span class="dt">difference =</span> life_expectancy_<span class="dv">2015</span> <span class="op">-</span><span class="st"> </span>life_expectancy_<span class="dv">2010</span>) <span class="op">%&gt;%</span></span>
<span id="cb396-8"><a href="princípios-de-visualização-de-dados.html#cb396-8"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(average, difference, <span class="dt">label =</span> country)) <span class="op">+</span></span>
<span id="cb396-9"><a href="princípios-de-visualização-de-dados.html#cb396-9"></a><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb396-10"><a href="princípios-de-visualização-de-dados.html#cb396-10"></a><span class="kw">geom_text_repel</span>() <span class="op">+</span></span>
<span id="cb396-11"><a href="princípios-de-visualização-de-dados.html#cb396-11"></a><span class="kw">geom_abline</span>(<span class="dt">lty =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb396-12"><a href="princípios-de-visualização-de-dados.html#cb396-12"></a><span class="kw">xlab</span>(<span class="st">&quot;Average of 2010 and 2015&quot;</span>) <span class="op">+</span></span>
<span id="cb396-13"><a href="princípios-de-visualização-de-dados.html#cb396-13"></a><span class="kw">ylab</span>(<span class="st">&quot;Difference between 2015 and 2010&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/bland-altman-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Aqui, simplesmente olhando o eixo y, vemos rapidamente quais países mostraram a maior melhoria. Além disso, temos uma idéia do valor geral do eixo x.</p>
</div>
</div>
<div id="como-codificar-uma-terceira-variável" class="section level2" number="10.9">
<h2><span class="header-section-number">10.9</span> Como codificar uma terceira variável</h2>
<p>Um gráfico de dispersão anterior mostrou a relação entre sobrevivência infantil e renda média. Abaixo está uma versão deste gráfico que codifica três variáveis: participação na OPEP, região e população.</p>
<p><img src="livro_files/figure-html/encoding-third-variable-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Codificamos variáveis categóricas com cor e forma. Essas formas podem ser controladas com o argumento <code>shape</code>. Abaixo, mostramos as formas disponíveis para uso em R. Nos últimos cinco, a cor preenche a forma.</p>
<p><img src="livro_files/figure-html/available-shapes-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Para variáveis contínuas, podemos usar cor, intensidade ou tamanho. Aqui está um exemplo de como fazer isso com um estudo de caso.</p>
<p>Ao selecionar cores para quantificar uma variável numérica, escolhemos entre duas opções: seqüencial e divergente. As cores seqüenciais são adequadas para dados que variam do mais alto ao mais baixo. Valores altos são claramente diferenciados de valores baixos. Aqui estão alguns exemplos oferecidos pelo pacote <code>RColorBrewer</code>:</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="princípios-de-visualização-de-dados.html#cb397-1"></a><span class="kw">library</span>(RColorBrewer)</span>
<span id="cb397-2"><a href="princípios-de-visualização-de-dados.html#cb397-2"></a><span class="kw">display.brewer.all</span>(<span class="dt">type=</span><span class="st">&quot;seq&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/r-color-brewer-seq-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Cores divergentes são usadas para representar valores que divergem de um centro. Colocamos ênfase igual nos dois extremos do intervalo de dados: mais alto que o centro e mais baixo que o centro. Um exemplo de quando usaríamos um padrão divergente seria quando mostramos a altura em quantos desvios padrão ela é da média. Aqui estão alguns exemplos de padrões divergentes:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="princípios-de-visualização-de-dados.html#cb398-1"></a><span class="kw">library</span>(RColorBrewer)</span>
<span id="cb398-2"><a href="princípios-de-visualização-de-dados.html#cb398-2"></a><span class="kw">display.brewer.all</span>(<span class="dt">type=</span><span class="st">&quot;div&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/r-color-brewer-div-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="evitar-gráficos-pseudo-tridimensionais" class="section level2" number="10.10">
<h2><span class="header-section-number">10.10</span> Evitar gráficos pseudo-tridimensionais</h2>
<p>A figura a seguir, extraída da literatura científica<a href="#fn40" class="footnote-ref" id="fnref40"><sup>40</sup></a>,
mostra três variáveis: dose, tipo de medicamento e sobrevida. Embora suas telas ou páginas do livro sejam planas e bidimensionais, o gráfico tenta imitar três dimensões e atribui uma dimensão a cada variável.</p>
<p><img src="dataviz/img/fig8b.png" width="70%" style="display: block; margin: auto;" />
(Imagem cortesia de Karl Broman)</p>
<p>Os seres humanos não são bons em ver em três dimensões (o que explica por que o estacionamento paralelo é difícil) e nossa limitação é ainda pior em relação às pseudo-três dimensões. Para ver isso, tente determinar os valores da variável de sobrevivência no gráfico acima. Você pode dizer quando a fita roxa cruza a fita vermelha? Este é um exemplo em que podemos usar cores facilmente para representar a variável categórica em vez de um pseudo-3D:</p>
<p><img src="livro_files/figure-html/colors-for-different-lines-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Veja como é mais fácil determinar os valores de sobrevivência.</p>
<p>Às vezes, o pseudo-3D é usado de forma totalmente gratuita - os gráficos são criados para parecer 3D, mesmo quando a terceira dimensão não representa uma quantidade. Isso apenas aumenta a confusão e dificulta a transmissão da sua mensagem. Aqui estão dois exemplos:</p>
<p><img src="dataviz/img/fig1e.png" width="45%" style="display: block; margin: auto;" /><img src="dataviz/img/fig2d.png" width="45%" style="display: block; margin: auto;" />
(Imagens cortesia de Karl Broman)</p>
</div>
<div id="evite-muitos-dígitos-significativos" class="section level2" number="10.11">
<h2><span class="header-section-number">10.11</span> Evite muitos dígitos significativos</h2>
<p>Por padrão, softwares estatísticos como R retornam muitos dígitos significativos. O comportamento padrão em R é exibir 7 dígitos significativos. Esse número de dígitos geralmente não adiciona informações e a desordem visual adicionada pode dificultar o entendimento da mensagem. Como exemplo, aqui estão as taxas de doença por 10.000 para a Califórnia em cinco décadas, calculadas a partir dos totais e da população com R:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
state
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
Measles
</th>
<th style="text-align:right;">
Pertussis
</th>
<th style="text-align:right;">
Polio
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1940
</td>
<td style="text-align:right;">
37.8826320
</td>
<td style="text-align:right;">
18.3397861
</td>
<td style="text-align:right;">
0.8266512
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
13.9124205
</td>
<td style="text-align:right;">
4.7467350
</td>
<td style="text-align:right;">
1.9742639
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1960
</td>
<td style="text-align:right;">
14.1386471
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.2640419
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1970
</td>
<td style="text-align:right;">
0.9767889
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1980
</td>
<td style="text-align:right;">
0.3743467
</td>
<td style="text-align:right;">
0.0515466
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>Estamos relatando precisão de até 0,00001 casos por 10.000, um valor muito pequeno no contexto de alterações que ocorrem ao longo do tempo. Nesse caso, dois números significativos são mais que suficientes e indicam claramente que as taxas estão diminuindo:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
state
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
Measles
</th>
<th style="text-align:right;">
Pertussis
</th>
<th style="text-align:right;">
Polio
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1940
</td>
<td style="text-align:right;">
37.9
</td>
<td style="text-align:right;">
18.3
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
13.9
</td>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
2.0
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1960
</td>
<td style="text-align:right;">
14.1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1970
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:right;">
1980
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>Para alterar o número de dígitos significativos ou números redondos, usamos <code>signif</code> e <code>round</code>. Eles podem definir o número de dígitos significativos em todo o mundo, configurando opções como esta: <code>options(digits = 3)</code>.</p>
<p>Outro princípio relacionado à exibição de tabelas é colocar os valores que são comparados em colunas em vez de linhas. Observe que nossa tabela acima é mais fácil de ler do que esta:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
state
</th>
<th style="text-align:left;">
disease
</th>
<th style="text-align:right;">
1940
</th>
<th style="text-align:right;">
1950
</th>
<th style="text-align:right;">
1960
</th>
<th style="text-align:right;">
1970
</th>
<th style="text-align:right;">
1980
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:left;">
Measles
</td>
<td style="text-align:right;">
37.9
</td>
<td style="text-align:right;">
13.9
</td>
<td style="text-align:right;">
14.1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.4
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:left;">
Pertussis
</td>
<td style="text-align:right;">
18.3
</td>
<td style="text-align:right;">
4.7
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.1
</td>
</tr>
<tr>
<td style="text-align:left;">
California
</td>
<td style="text-align:left;">
Polio
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div id="conheça-o-seu-público" class="section level2" number="10.12">
<h2><span class="header-section-number">10.12</span> Conheça o seu público</h2>
<p>Os gráficos podem ser usados para 1) nossas próprias análises exploratórias de dados, 2) para transmitir uma mensagem aos especialistas ou 3) para ajudar a contar uma história para o público em geral. Certifique-se de que o público-alvo entenda cada elemento do gráfico.</p>
<p>Como um exemplo simples, considere que pode ser mais útil para sua própria exploração transformar os dados logaritmicamente e depois fazer um gráfico. No entanto, para uma audiência geral que não está familiarizada com a conversão de valores logarítmicos em medições originais, será muito mais fácil entender o uso de uma escala logarítmica para o eixo, em vez de valores transformados logaritmicamente.</p>
</div>
<div id="exercícios-19" class="section level2" number="10.13">
<h2><span class="header-section-number">10.13</span> Exercícios</h2>
<p>Para esses exercícios, usaremos os dados da vacina no pacote <strong>dslabs</strong>:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="princípios-de-visualização-de-dados.html#cb399-1"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb399-2"><a href="princípios-de-visualização-de-dados.html#cb399-2"></a><span class="kw">data</span>(us_contagious_diseases)</span></code></pre></div>
<p>1. Os gráficos de pizza são adequados:</p>
<p>para. Quando queremos mostrar porcentagens.
b. Quando <strong>ggplot2</strong> não estiver disponível.
c. Quando estou jogando frisbee.
d. Nunca. Gráficos e tabelas de barras são sempre melhores.</p>
<p>2. Qual é o problema com o gráfico a seguir?</p>
<p><img src="livro_files/figure-html/baplot-not-from-zero-exercises-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>para. Os valores estão errados. A votação final foi 306-232.
b. O eixo não começa em 0. A julgar pelo comprimento, parece que Trump recebeu três vezes mais votos quando, na verdade, ele era aproximadamente 30% a mais.
c. As cores devem ser as mesmas.
d. As porcentagens devem ser mostradas como um gráfico de pizza.</p>
<p>3. Veja os dois gráficos a seguir. Eles mostram a mesma informação: taxas de sarampo em 1928 em todos os 50 estados.</p>
<p><img src="livro_files/figure-html/measels-exercise-1.png" width="70%" style="display: block; margin: auto;" />
Qual gráfico é mais fácil de ler se você deseja determinar quais são os melhores e os piores estados em termos de taxas e por quê?</p>
<p>para. Eles dão a mesma informação, então ambos são igualmente bons.
b. O gráfico à esquerda é melhor porque ordena os estados em ordem alfabética.
c. O gráfico à direita é melhor porque a ordem alfabética não tem nada a ver com a doença e, ordenando de acordo com a taxa real, vemos rapidamente os estados com as taxas mais alta e mais baixa.
d. Ambos os gráficos devem ser um gráfico de pizza.</p>
<p>4. Para fazer o gráfico à esquerda, precisamos reordenar os níveis das variáveis de estado.</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="princípios-de-visualização-de-dados.html#cb400-1"></a>dat &lt;-<span class="st"> </span>us_contagious_diseases <span class="op">%&gt;%</span></span>
<span id="cb400-2"><a href="princípios-de-visualização-de-dados.html#cb400-2"></a><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">1967</span> <span class="op">&amp;</span><span class="st"> </span>disease<span class="op">==</span><span class="st">&quot;Measles&quot;</span> <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(population)) <span class="op">%&gt;%</span></span>
<span id="cb400-3"><a href="princípios-de-visualização-de-dados.html#cb400-3"></a><span class="kw">mutate</span>(<span class="dt">rate =</span> count<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">10000</span> <span class="op">*</span><span class="st"> </span><span class="dv">52</span><span class="op">/</span><span class="st"> </span>weeks_reporting)</span></code></pre></div>
<p>Lembre-se do que acontece quando criamos um gráfico de barras:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="princípios-de-visualização-de-dados.html#cb401-1"></a>dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(state, rate)) <span class="op">+</span></span>
<span id="cb401-2"><a href="princípios-de-visualização-de-dados.html#cb401-2"></a><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="op">+</span></span>
<span id="cb401-3"><a href="princípios-de-visualização-de-dados.html#cb401-3"></a><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="livro_files/figure-html/barplot-plot-exercise-example-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Defina estes objetos:</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="princípios-de-visualização-de-dados.html#cb402-1"></a>state &lt;-<span class="st"> </span>dat<span class="op">$</span>state</span>
<span id="cb402-2"><a href="princípios-de-visualização-de-dados.html#cb402-2"></a>rate &lt;-<span class="st"> </span>dat<span class="op">$</span>count<span class="op">/</span>dat<span class="op">$</span>population<span class="op">*</span><span class="dv">10000</span><span class="op">*</span><span class="dv">52</span><span class="op">/</span>dat<span class="op">$</span>weeks_reporting</span></code></pre></div>
<p>Redefinir o objeto <code>state</code> para que os níveis sejam reorganizados. Imprimir o novo objeto <code>state</code> e seus níveis para que você possa ver que os níveis não reorganizam o vetor.</p>
<p>5. Agora edite o código acima para redefinir <code>dat</code> para que os níveis da variável <code>state</code> reordenar por variável <code>rate</code>. Em seguida, faça um gráfico de barras usando o código acima, mas para este novo <code>dat</code>.</p>
<p>6. Digamos que você esteja interessado em comparar as taxas de homicídio por arma de fogo em todas as regiões dos EUA. EUA Veja este gráfico:</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="princípios-de-visualização-de-dados.html#cb403-1"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb403-2"><a href="princípios-de-visualização-de-dados.html#cb403-2"></a><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</span>
<span id="cb403-3"><a href="princípios-de-visualização-de-dados.html#cb403-3"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">rate =</span> total<span class="op">/</span>population<span class="op">*</span><span class="dv">100000</span>) <span class="op">%&gt;%</span></span>
<span id="cb403-4"><a href="princípios-de-visualização-de-dados.html#cb403-4"></a><span class="kw">group_by</span>(region) <span class="op">%&gt;%</span></span>
<span id="cb403-5"><a href="princípios-de-visualização-de-dados.html#cb403-5"></a><span class="kw">summarize</span>(<span class="dt">avg =</span> <span class="kw">mean</span>(rate)) <span class="op">%&gt;%</span></span>
<span id="cb403-6"><a href="princípios-de-visualização-de-dados.html#cb403-6"></a><span class="kw">mutate</span>(<span class="dt">region =</span> <span class="kw">factor</span>(region)) <span class="op">%&gt;%</span></span>
<span id="cb403-7"><a href="princípios-de-visualização-de-dados.html#cb403-7"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(region, avg)) <span class="op">+</span></span>
<span id="cb403-8"><a href="princípios-de-visualização-de-dados.html#cb403-8"></a><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="op">+</span></span>
<span id="cb403-9"><a href="princípios-de-visualização-de-dados.html#cb403-9"></a><span class="kw">ylab</span>(<span class="st">&quot;Murder Rate Average&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/us-murders-barplot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>e decide se mudar para um estado na região oeste. Qual é o principal problema com esta interpretação?</p>
<p>para. As categorias são organizadas em ordem alfabética.
b. O gráfico não mostra erros padrão.
c. O gráfico não mostra todos os dados. Não vemos variabilidade dentro de uma região e os estados mais seguros podem não estar no oeste.
d. O Nordeste tem a menor média.</p>
<p>7. Faça um gráfico de caixa das taxas de homicídio definidas como:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="princípios-de-visualização-de-dados.html#cb404-1"></a><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</span>
<span id="cb404-2"><a href="princípios-de-visualização-de-dados.html#cb404-2"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">rate =</span> total<span class="op">/</span>population<span class="op">*</span><span class="dv">100000</span>)</span></code></pre></div>
<p>por região, mostrando todos os pontos e ordenando as regiões pela taxa média.</p>
<p>8. Os gráficos abaixo mostram três variáveis contínuas.</p>
<p><img src="livro_files/figure-html/pseudo-3d-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A linha <span class="math inline">\(x=2\)</span> parece separar os pontos. Mas, na realidade, não é o caso, como vemos quando representamos graficamente os dados em um par de pontos bidimensionais.</p>
<p><img src="livro_files/figure-html/pseud-3d-exercise-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Por que acontece isso?</p>
<p>para. Os seres humanos não são bons em ler gráficos pseudo-3D.
b. Deve haver um erro no código.
c. Cores nos confundem.
d. Diagramas de dispersão não devem ser usados para comparar duas variáveis quando tivermos acesso a três variáveis.</p>
<p>9. Reproduza o gráfico de imagem que criamos anteriormente, mas para varíola. Para este gráfico, não inclua anos em que nenhum caso foi relatado em 10 ou mais semanas.</p>
<p>10. Agora, repita o gráfico de séries temporais que criamos anteriormente, mas desta vez seguindo as instruções da pergunta anterior.</p>
<p>Onze. Para o estado da Califórnia, faça gráficos de séries temporais que mostrem as taxas de todas as doenças. Inclua apenas anos nos quais os dados são fornecidos em 10 ou mais semanas. Use uma cor diferente para cada doença.</p>
<p>12. Agora faça o mesmo para as taxas dos EUA. Dica: calcule a taxa dos EUA. EUA usando <code>summarize</code>, o número total de casos dividido pela população total.</p>

</div>
<div id="vaccines" class="section level2" number="10.14">
<h2><span class="header-section-number">10.14</span> Estudo de caso: vacinas e doenças infecciosas</h2>
<p>As vacinas ajudaram a salvar milhões de vidas. No século 19, antes da imunização em grupo por meio de programas de vacinação, as mortes por doenças infecciosas, como varíola e poliomielite, eram comuns. No entanto, hoje os programas de vacinação se tornaram um tanto controversos, apesar de todas as evidências científicas de sua importância.</p>
<p>A controvérsia começou com um artigo<a href="#fn41" class="footnote-ref" id="fnref41"><sup>41</sup></a> publicado em 1988 e liderado por Andrew Wakefield, que alegava a existência de uma ligação entre a administração da vacina contra sarampo, caxumba e rubéola e autismo e doenças intestinais.
Apesar do grande conjunto de evidências científicas que contradizem esse achado, os relatos dos tablóides e o alarmante daqueles que acreditam em teorias da conspiração levaram partes do público a acreditar que as vacinas eram prejudiciais. Como resultado, muitos pais deixaram de vacinar seus filhos. Essa prática perigosa pode ser potencialmente desastrosa, uma vez que os Centros de Controle de Doenças dos EUA, ou CDC, estimam que as vacinas impedirão mais de 21 milhões de hospitalizações e 732.000 mortes entre crianças nascidas nos Estados Unidos. últimos 20 anos (consulte “Benefícios da imunização durante a era do programa Vacinas para crianças - Estados Unidos, 1994-2013, MMWR”<a href="#fn42" class="footnote-ref" id="fnref42"><sup>42</sup></a>).
Desde então, “The Lancet” retirou o artigo e Andrew Wakefield foi finalmente “removido do prontuário médico em maio de 2010 com uma observação indicando a falsificação fraudulenta que ele incorreu e sua licença para praticar medicina no Reino Unido revogada.”
(Fonte: Wikipedia<a href="#fn43" class="footnote-ref" id="fnref43"><sup>43</sup></a>). No entanto, os equívocos permanecem, em parte por causa de ativistas autoproclamados que continuam divulgando informações erradas sobre vacinas.</p>
<p>A comunicação eficaz de dados é um forte antídoto para desinformação e medo. Anteriormente, mostramos um exemplo de um artigo do Wall Street Journal<a href="#fn44" class="footnote-ref" id="fnref44"><sup>44</sup></a> que mostra dados relacionados ao impacto das vacinas na luta contra doenças infecciosas. Vamos reconstruir esse exemplo abaixo.</p>
<p>Os dados usados para esses gráficos foram coletados, organizados e distribuídos pelo Tycho^Project [<a href="http://www.tycho.pitt.edu/" class="uri">http://www.tycho.pitt.edu/</a>] e incluem contagens semanais relatadas para sete doenças de 1928 a 2011 nos cinquenta estados dos EUA. Incluímos os totais anuais no pacote <strong>dslabs</strong>:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="princípios-de-visualização-de-dados.html#cb405-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb405-2"><a href="princípios-de-visualização-de-dados.html#cb405-2"></a><span class="kw">library</span>(RColorBrewer)</span>
<span id="cb405-3"><a href="princípios-de-visualização-de-dados.html#cb405-3"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb405-4"><a href="princípios-de-visualização-de-dados.html#cb405-4"></a><span class="kw">data</span>(us_contagious_diseases)</span>
<span id="cb405-5"><a href="princípios-de-visualização-de-dados.html#cb405-5"></a><span class="kw">names</span>(us_contagious_diseases)</span>
<span id="cb405-6"><a href="princípios-de-visualização-de-dados.html#cb405-6"></a><span class="co">#&gt; [1] &quot;disease&quot;         &quot;state&quot;           &quot;year&quot;           </span></span>
<span id="cb405-7"><a href="princípios-de-visualização-de-dados.html#cb405-7"></a><span class="co">#&gt; [4] &quot;weeks_reporting&quot; &quot;count&quot;           &quot;population&quot;</span></span></code></pre></div>
<p>Criamos um objeto temporário <code>dat</code> ele armazena apenas os dados do sarampo, inclui a taxa por 100.000, classifica os estados de acordo com o valor médio da doença e elimina o Alasca e o Havaí desde que esses dois se tornaram estados no final da década de 1950. Observe que existem uma coluna <code>weeks_reporting</code> que nos diz quantas semanas do ano foram relatados dados. Temos que ajustar esse valor ao calcular a taxa:</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="princípios-de-visualização-de-dados.html#cb406-1"></a>the_disease &lt;-<span class="st"> &quot;Measles&quot;</span></span>
<span id="cb406-2"><a href="princípios-de-visualização-de-dados.html#cb406-2"></a>dat &lt;-<span class="st"> </span>us_contagious_diseases <span class="op">%&gt;%</span></span>
<span id="cb406-3"><a href="princípios-de-visualização-de-dados.html#cb406-3"></a><span class="kw">filter</span>(<span class="op">!</span>state<span class="op">%in%</span><span class="kw">c</span>(<span class="st">&quot;Hawaii&quot;</span>,<span class="st">&quot;Alaska&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>disease <span class="op">==</span><span class="st"> </span>the_disease) <span class="op">%&gt;%</span></span>
<span id="cb406-4"><a href="princípios-de-visualização-de-dados.html#cb406-4"></a><span class="kw">mutate</span>(<span class="dt">rate =</span> count<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">10000</span> <span class="op">*</span><span class="st"> </span><span class="dv">52</span><span class="op">/</span><span class="st"> </span>weeks_reporting) <span class="op">%&gt;%</span></span>
<span id="cb406-5"><a href="princípios-de-visualização-de-dados.html#cb406-5"></a><span class="kw">mutate</span>(<span class="dt">state =</span> <span class="kw">reorder</span>(state, rate))</span></code></pre></div>
<p>Agora podemos mapear facilmente as taxas de doenças por ano. Aqui estão os fatos sobre o sarampo na Califórnia:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="princípios-de-visualização-de-dados.html#cb407-1"></a>dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(state <span class="op">==</span><span class="st"> &quot;California&quot;</span> <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(rate)) <span class="op">%&gt;%</span></span>
<span id="cb407-2"><a href="princípios-de-visualização-de-dados.html#cb407-2"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(year, rate)) <span class="op">+</span></span>
<span id="cb407-3"><a href="princípios-de-visualização-de-dados.html#cb407-3"></a><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb407-4"><a href="princípios-de-visualização-de-dados.html#cb407-4"></a><span class="kw">ylab</span>(<span class="st">&quot;Cases per 10,000&quot;</span>) <span class="op">+</span></span>
<span id="cb407-5"><a href="princípios-de-visualização-de-dados.html#cb407-5"></a><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="dv">1963</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/california-measles-time-series-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Adicionamos uma linha vertical em 1963, já que foi quando a vacina foi introduzida<a href="#fn45" class="footnote-ref" id="fnref45"><sup>45</sup></a>.</p>
<p>Agora podemos exibir dados para todos os estados em um gráfico? Temos três variáveis para incluir: ano, status e taxa. Na figura do WSJ, eles usam o eixo x para o ano, o eixo y para o estado e o tom da cor para representar as taxas. No entanto, a escala de cores que eles usam, de amarelo a azul, de verde a laranja e vermelho, pode ser melhorada.</p>
<p>Em nosso exemplo, queremos usar uma paleta seqüencial, pois não há um centro significativo, apenas taxas baixas e altas.</p>
<p>Usamos geometria <code>geom_tile</code> tecer a região com cores que representam as taxas de doenças. Usamos uma transformação de raiz quadrada para impedir que contagens particularmente altas dominem o gráfico. Observe que os valores ausentes são mostrados em cinza. Além disso, observe que, assim que uma doença foi praticamente erradicada, alguns estados deixaram de relatar casos completamente. É por essa razão que vemos tanto cinza depois de 1980.</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="princípios-de-visualização-de-dados.html#cb408-1"></a>dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(year, state, <span class="dt">fill =</span> rate)) <span class="op">+</span></span>
<span id="cb408-2"><a href="princípios-de-visualização-de-dados.html#cb408-2"></a><span class="kw">geom_tile</span>(<span class="dt">color =</span> <span class="st">&quot;grey50&quot;</span>) <span class="op">+</span></span>
<span id="cb408-3"><a href="princípios-de-visualização-de-dados.html#cb408-3"></a><span class="kw">scale_x_continuous</span>(<span class="dt">expand=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="op">+</span></span>
<span id="cb408-4"><a href="princípios-de-visualização-de-dados.html#cb408-4"></a><span class="kw">scale_fill_gradientn</span>(<span class="dt">colors =</span> <span class="kw">brewer.pal</span>(<span class="dv">9</span>, <span class="st">&quot;Reds&quot;</span>), <span class="dt">trans =</span> <span class="st">&quot;sqrt&quot;</span>) <span class="op">+</span></span>
<span id="cb408-5"><a href="princípios-de-visualização-de-dados.html#cb408-5"></a><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="dv">1963</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span></span>
<span id="cb408-6"><a href="princípios-de-visualização-de-dados.html#cb408-6"></a><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb408-7"><a href="princípios-de-visualização-de-dados.html#cb408-7"></a><span class="kw">theme</span>(<span class="dt">panel.grid =</span> <span class="kw">element_blank</span>(),</span>
<span id="cb408-8"><a href="princípios-de-visualização-de-dados.html#cb408-8"></a><span class="dt">legend.position=</span><span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb408-9"><a href="princípios-de-visualização-de-dados.html#cb408-9"></a><span class="dt">text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">8</span>)) <span class="op">+</span></span>
<span id="cb408-10"><a href="princípios-de-visualização-de-dados.html#cb408-10"></a><span class="kw">ggtitle</span>(the_disease) <span class="op">+</span></span>
<span id="cb408-11"><a href="princípios-de-visualização-de-dados.html#cb408-11"></a><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/vaccines-plot-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Este gráfico fornece evidências esmagadoras em favor da contribuição das vacinas. No entanto, uma limitação é que ela usa cores para representar quantidade, o que, como explicado acima, dificulta o conhecimento exato de quão altos os valores são. Posição e comprimento são melhores sinais. Se estamos dispostos a perder informações de status, podemos fazer uma versão do gráfico que mostra os valores com a posição. Também podemos mostrar a média dos EUA. EUA, que calculamos assim:</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="princípios-de-visualização-de-dados.html#cb409-1"></a>avg &lt;-<span class="st"> </span>us_contagious_diseases <span class="op">%&gt;%</span></span>
<span id="cb409-2"><a href="princípios-de-visualização-de-dados.html#cb409-2"></a><span class="kw">filter</span>(disease<span class="op">==</span>the_disease) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(year) <span class="op">%&gt;%</span></span>
<span id="cb409-3"><a href="princípios-de-visualização-de-dados.html#cb409-3"></a><span class="kw">summarize</span>(<span class="dt">us_rate =</span> <span class="kw">sum</span>(count, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)<span class="op">/</span></span>
<span id="cb409-4"><a href="princípios-de-visualização-de-dados.html#cb409-4"></a><span class="kw">sum</span>(population, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">*</span><span class="st"> </span><span class="dv">10000</span>)</span></code></pre></div>
<p>Agora, para fazer o gráfico, simplesmente usamos a geometria <code>geom_line</code>:</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="princípios-de-visualização-de-dados.html#cb410-1"></a>dat <span class="op">%&gt;%</span></span>
<span id="cb410-2"><a href="princípios-de-visualização-de-dados.html#cb410-2"></a><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(rate)) <span class="op">%&gt;%</span></span>
<span id="cb410-3"><a href="princípios-de-visualização-de-dados.html#cb410-3"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb410-4"><a href="princípios-de-visualização-de-dados.html#cb410-4"></a><span class="kw">geom_line</span>(<span class="kw">aes</span>(year, rate, <span class="dt">group =</span> state), <span class="dt">color =</span> <span class="st">&quot;grey50&quot;</span>,</span>
<span id="cb410-5"><a href="princípios-de-visualização-de-dados.html#cb410-5"></a><span class="dt">show.legend =</span> <span class="ot">FALSE</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>, <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb410-6"><a href="princípios-de-visualização-de-dados.html#cb410-6"></a><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(year, us_rate), <span class="dt">data =</span> avg, <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb410-7"><a href="princípios-de-visualização-de-dados.html#cb410-7"></a><span class="kw">scale_y_continuous</span>(<span class="dt">trans =</span> <span class="st">&quot;sqrt&quot;</span>, <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">25</span>, <span class="dv">125</span>, <span class="dv">300</span>)) <span class="op">+</span></span>
<span id="cb410-8"><a href="princípios-de-visualização-de-dados.html#cb410-8"></a><span class="kw">ggtitle</span>(<span class="st">&quot;Cases per 10,000 by state&quot;</span>) <span class="op">+</span></span>
<span id="cb410-9"><a href="princípios-de-visualização-de-dados.html#cb410-9"></a><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span></span>
<span id="cb410-10"><a href="princípios-de-visualização-de-dados.html#cb410-10"></a><span class="kw">geom_text</span>(<span class="dt">data =</span> <span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="dv">1955</span>, <span class="dt">y =</span> <span class="dv">50</span>),</span>
<span id="cb410-11"><a href="princípios-de-visualização-de-dados.html#cb410-11"></a><span class="dt">mapping =</span> <span class="kw">aes</span>(x, y, <span class="dt">label=</span><span class="st">&quot;US average&quot;</span>),</span>
<span id="cb410-12"><a href="princípios-de-visualização-de-dados.html#cb410-12"></a><span class="dt">color=</span><span class="st">&quot;black&quot;</span>) <span class="op">+</span></span>
<span id="cb410-13"><a href="princípios-de-visualização-de-dados.html#cb410-13"></a><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="dv">1963</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="livro_files/figure-html/time-series-vaccines-plot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Em teoria, poderíamos usar cores para representar estados, que são uma variável categórica, mas é difícil escolher 50 cores diferentes.</p>
</div>
<div id="exercícios-20" class="section level2" number="10.15">
<h2><span class="header-section-number">10.15</span> Exercícios</h2>
<ol style="list-style-type: decimal">
<li><p>Reproduza o mapa da matriz que fizemos anteriormente, mas para varíola. Para este gráfico, não inclua os anos em que nenhum caso foi relatado por 10 ou mais semanas.</p></li>
<li><p>Agora reproduza o gráfico de séries temporais que criamos anteriormente, mas desta vez seguindo as instruções da pergunta anterior para a varíola.</p></li>
<li><p>Para o estado da Califórnia, faça um gráfico de série temporal mostrando as taxas de todas as doenças. Inclua apenas anos com relatórios de 10 ou mais semanas. Use uma cor diferente para cada doença.</p></li>
<li><p>Agora faça o mesmo para as taxas dos EUA. Dica: calcule a taxa dos EUA. EUA usando <code>summarize</code>: total dividido pela população total.</p></li>
</ol>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="32">
<li id="fn32"><p><a href="http://kbroman.org/" class="uri">http://kbroman.org/</a><a href="princípios-de-visualização-de-dados.html#fnref32" class="footnote-back">↩︎</a></p></li>
<li id="fn33"><p><a href="https://www.biostat.wisc.edu/~kbroman/presentations/graphs2017.pdf" class="uri">https://www.biostat.wisc.edu/~kbroman/presentations/graphs2017.pdf</a><a href="princípios-de-visualização-de-dados.html#fnref33" class="footnote-back">↩︎</a></p></li>
<li id="fn34"><p><a href="https://github.com/kbroman/Talk_Graphs" class="uri">https://github.com/kbroman/Talk_Graphs</a><a href="princípios-de-visualização-de-dados.html#fnref34" class="footnote-back">↩︎</a></p></li>
<li id="fn35"><p><a href="http://paldhous.github.io/ucb/2016/dataviz/index.html" class="uri">http://paldhous.github.io/ucb/2016/dataviz/index.html</a><a href="princípios-de-visualização-de-dados.html#fnref35" class="footnote-back">↩︎</a></p></li>
<li id="fn36"><p><a href="http://mediamatters.org/blog/2013/04/05/fox-news-newest-dishonest-chart-immigration-enf/193507" class="uri">http://mediamatters.org/blog/2013/04/05/fox-news-newest-dishonest-chart-immigration-enf/193507</a><a href="princípios-de-visualização-de-dados.html#fnref36" class="footnote-back">↩︎</a></p></li>
<li id="fn37"><p><a href="http://flowingdata.com/2012/08/06/fox-news-continues-charting-excellence/" class="uri">http://flowingdata.com/2012/08/06/fox-news-continues-charting-excellence/</a><a href="princípios-de-visualização-de-dados.html#fnref37" class="footnote-back">↩︎</a></p></li>
<li id="fn38"><p><a href="https://www.pakistantoday.com.pk/2018/05/18/whats-at-stake-in-venezuelan-presidential-vote" class="uri">https://www.pakistantoday.com.pk/2018/05/18/whats-at-stake-in-venezuelan-presidential-vote</a><a href="princípios-de-visualização-de-dados.html#fnref38" class="footnote-back">↩︎</a></p></li>
<li id="fn39"><p><a href="https://www.youtube.com/watch?v=kl2g40GoRxg" class="uri">https://www.youtube.com/watch?v=kl2g40GoRxg</a><a href="princípios-de-visualização-de-dados.html#fnref39" class="footnote-back">↩︎</a></p></li>
<li id="fn40"><p><a href="https://projecteuclid.org/download/pdf_1/euclid.ss/1177010488" class="uri">https://projecteuclid.org/download/pdf_1/euclid.ss/1177010488</a><a href="princípios-de-visualização-de-dados.html#fnref40" class="footnote-back">↩︎</a></p></li>
<li id="fn41"><p><a href="http://www.thelancet.com/journals/lancet/article/PIIS0140-6736" class="uri">http://www.thelancet.com/journals/lancet/article/PIIS0140-6736</a> (97) 11096-0/ abstract<a href="princípios-de-visualização-de-dados.html#fnref41" class="footnote-back">↩︎</a></p></li>
<li id="fn42"><p><a href="https://www.cdc.gov/mmwr/preview/mmwrhtml/mm6316a4.htm" class="uri">https://www.cdc.gov/mmwr/preview/mmwrhtml/mm6316a4.htm</a><a href="princípios-de-visualização-de-dados.html#fnref42" class="footnote-back">↩︎</a></p></li>
<li id="fn43"><p><a href="https://es.wikipedia.org/wiki/Andrew_Wakefield" class="uri">https://es.wikipedia.org/wiki/Andrew_Wakefield</a><a href="princípios-de-visualização-de-dados.html#fnref43" class="footnote-back">↩︎</a></p></li>
<li id="fn44"><p><a href="http://graphics.wsj.com/infectious-diseases-and-vaccines/" class="uri">http://graphics.wsj.com/infectious-diseases-and-vaccines/</a><a href="princípios-de-visualização-de-dados.html#fnref44" class="footnote-back">↩︎</a></p></li>
<li id="fn45"><p>Control, Centers for Disease; Prevenção (2014). Informações de saúde do CDC para viagens internacionais em 2014 (o livro amarelo). p. 250. ISBN 9780199948505<a href="princípios-de-visualização-de-dados.html#fnref45" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="gapminder.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="robust-summaries.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslivro/edit/master/dataviz/dataviz-principles.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
